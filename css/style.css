/* ==========================================================================
   ALEX AI INSURTECH - STYLE ("Organic Blue Sketchbook")
========================================================================== */

/* =============================================
   1. VARIABLES & SETUP (BLUE PALETTE)
============================================= */
:root {
/* --- PALETTE --- */
    --alex-blue-accent: #4A80F0;
    --alex-blue-light: #5FD4F4;
    --alex-ink: #2C3E50;
    --alex-ink-light: #64748B;
    
    /* --- BACKGROUNDS --- */
    --bg-white: #FFFFFF;
    --bg-off-white: #F8FAFC;
    
    /* --- ORGANIC VARIABLES --- */
    --organic-radius: 25px 20px 28px 22px; 
    --sketch-border: 2px solid var(--alex-ink);
    
    /* Shadows */
    --shadow-sketch-rest: 4px 4px 0px rgba(44, 62, 80, 0.1);
    --shadow-sketch-hover: 6px 6px 0px rgba(74, 128, 240, 0.25);
    --shadow-button: 3px 3px 0px var(--alex-ink);
    
    --font-main: 'Inter', sans-serif;
    --section-spacing: 100px;
}

/* =============================================
   2. RESET & BASE STYLES
============================================= */
* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
    font-family: var(--font-main); background-color: var(--bg-white);
    color: var(--alex-ink-light); line-height: 1.6; font-size: 18px; overflow-x: hidden;
}
h1, h2, h3, h4, h5 { color: var(--alex-ink); font-weight: 900; line-height: 1.1; letter-spacing: -0.5px; }
h1 { font-size: 4rem; letter-spacing: -1.5px; }
h2 { font-size: 3rem; margin-bottom: 1rem; }
h3 { font-size: 1.6rem; margin-bottom: 1rem; }
p { margin-bottom: 1.5rem; font-weight: 500; }
a { text-decoration: none; color: inherit; transition: all 0.3s ease; }
ul { list-style: none; }
img { max-width: 100%; height: auto; }

/* Utility Classes */
.container { width: 90%; max-width: 1200px; margin: 0 auto; }
.section-padding { padding: var(--section-spacing) 0; }
.text-center { text-align: center; }
.bg-off-white { background-color: var(--bg-off-white); }
.grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; }
.grid-2-uneven { display: grid; grid-template-columns: 1.5fr 1fr; gap: 60px; }
.align-center { align-items: center; }

/* ANIMACIONES (Restauradas) */
.anim-entry { 
    opacity: 0; 
    transform: translateY(20px); 
    animation: slideUpFade 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; 
}
@keyframes slideUpFade { 
    to { opacity: 1; transform: translateY(0); } 
}

/* =============================================
   3. UI COMPONENTS
============================================= */
.btn {
    display: inline-block; padding: 14px 36px; font-weight: 800;
    text-align: center; cursor: pointer; letter-spacing: 0.5px;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); position: relative;
    border-radius: var(--organic-radius);
}
.btn-sm { padding: 10px 24px; font-size: 0.95rem; }

/* Botón Animado Principal */
.btn-glow-anim {
    width: auto; padding: 18px 30px; border: none; border-radius: 14px;
    background: linear-gradient(135deg, #4A80F0 0%, #3B66CC 100%);
    color: white; font-size: 1.1rem; font-weight: 800; cursor: pointer;
    display: inline-flex; justify-content: center; align-items: center; gap: 10px;
    transition: all 0.3s; position: relative; overflow: hidden;
    box-shadow: 0 10px 20px rgba(74, 128, 240, 0.3);
}
.btn-glow-anim:hover { transform: translateY(-3px); box-shadow: 0 15px 30px rgba(74, 128, 240, 0.4); }
.btn-glow-anim i { transition: transform 0.3s; }
.btn-glow-anim:hover i { transform: translateX(5px); }

.btn-outline {
    background-color: transparent; color: var(--alex-ink);
    border: 2px solid var(--alex-ink); border-radius: 12px;
}
.btn-outline:hover {
    background-color: var(--bg-off-white);
    box-shadow: var(--shadow-button); transform: translate(-3px, -3px);
    color: var(--alex-blue-accent); border-color: var(--alex-blue-accent);
}

.organic-box {
    background: var(--bg-white); border-radius: var(--organic-radius);
    border: var(--sketch-border); box-shadow: var(--shadow-sketch-rest);
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.organic-box:hover {
    transform: translate(-3px, -3px); box-shadow: var(--shadow-sketch-hover);
    border-color: var(--alex-blue-accent);
}

/* =============================================
   4. HEADER & NAVIGATION
============================================= */
.top-header { 
    background-color: var(--alex-blue-accent); 
    color: white;
    padding: 12px 0;
    font-size: 0.9rem;
    font-weight: 700;
    
    /* EFECTO SKETCH */
    border-bottom: 3px solid var(--alex-ink); /* Línea negra gruesa */
    box-shadow: 0 4px 0 rgba(0,0,0,0.1); /* Sombra dura estilo cómic */
    position: relative;
    z-index: 200; /* Para que la sombra quede por encima del menú */
}
.top-header-flex { display: flex; justify-content: space-between; }
.top-contact a, .top-contact span { margin-right: 20px; opacity: 0.9; color: white;}
.top-contact a:hover { opacity: 1; text-decoration: underline;}
.top-social a { margin-left: 15px; opacity: 0.9; color: white;}

.site-header { 
    padding: 20px 0; background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); 
    position: sticky; top: 0; z-index: 100; border-bottom: 2px solid rgba(44, 62, 80, 0.1); 
}
.header-wrapper { display: flex; justify-content: space-between; align-items: center; }
.main-nav ul { display: flex; gap: 30px; align-items: center; margin: 0; }
.main-nav > ul > li > a { font-weight: 800; font-size: 16px; color: var(--alex-ink); position: relative; padding: 5px 0;}
.main-nav > ul > li > a:hover { color: var(--alex-blue-accent); text-decoration: underline; text-decoration-style: wavy; text-underline-offset: 4px; text-decoration-color: var(--alex-blue-accent);}
.has-dropdown { position: relative; }
.dropdown-icon { font-size: 0.8rem; margin-left: 5px; transition: transform 0.3s; }
.has-dropdown:hover .dropdown-icon { transform: rotate(180deg); color: var(--alex-blue-accent); }
.dropdown-menu {
    position: absolute; top: 100%; left: 0; min-width: 220px;
    padding: 15px; opacity: 0; visibility: hidden; transform: translateY(10px);
    transition: all 0.3s ease; z-index: 110; display: flex; flex-direction: column; gap: 10px;
}
.has-dropdown:hover .dropdown-menu { opacity: 1; visibility: visible; transform: translateY(0); }
.dropdown-menu a { display: block; padding: 10px 15px; font-weight: 700; color: var(--alex-ink); border-radius: 12px; transition: all 0.2s; }
.dropdown-menu a:hover { background: var(--bg-off-white); color: var(--alex-blue-accent); }
.header-actions { display: flex; gap: 15px; align-items: center; }
.mobile-menu-toggle { display: none; font-size: 1.8rem; background: none; border: none; color: var(--alex-ink); cursor: pointer;}

/* =============================================
   5. PAGE SECTIONS
============================================= */
#hero-split { background-color: var(--bg-white); }
.hero-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center; min-height: 75vh; }
.hero-subtitle { font-size: 1.5rem; max-width: 520px; color: var(--alex-ink-light); }
.hero-video-organic {
    padding: 0; line-height: 0; width: 110%; margin: 0 auto;
    border-radius: var(--organic-radius); overflow: hidden;
}
.hero-video-organic.is-playing { animation: float-vertical 8s ease-in-out infinite; }
.hero-video-organic video { width: 100%; height: auto; max-height: 600px; object-fit: cover; display: block; }

/* Trust Bar & Carriers */
.trust-bar { padding: 60px 0 80px; }
.carriers-paper {
    background-color: var(--bg-white); padding: 40px 30px; max-width: 1000px; margin: 0 auto;
    box-shadow: var(--shadow-sketch-rest);
}
.carriers-paper:hover { transform: translateY(-3px); box-shadow: var(--shadow-sketch-hover); border-color: var(--alex-blue-accent); }
.sketch-label {
    color: var(--alex-blue-accent); font-weight: 900; text-transform: uppercase;
    letter-spacing: 2px; font-size: 1rem; margin-bottom: 35px; display: inline-block; position: relative;
}
.sketch-label::after {
    content: ''; display: block; width: 60%; height: 3px; background-color: var(--alex-blue-accent);
    margin: 8px auto 0 auto; border-radius: 5px; opacity: 0.5;
    mask-image: url("data:image/svg+xml,%3Csvg width='100' height='5' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 2.5Q25 0 50 2.5T100 2.5' stroke='black' fill='none' stroke-width='3'/%3E%3C/svg%3E");
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='100' height='5' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 2.5Q25 0 50 2.5T100 2.5' stroke='black' fill='none' stroke-width='3'/%3E%3C/svg%3E");
}

/* Carrier Slider */
.slider-container {
    width: 100%; overflow: hidden; padding: 20px 0; position: relative;
    mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
    -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
}
.slider-track { display: flex; width: max-content; gap: 40px; animation: scroll-left 30s linear infinite; }
.slider-track:hover { animation-play-state: paused; }
@keyframes scroll-left { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
.carrier-item {
    width: 150px; height: 90px; display: flex; align-items: center; justify-content: center;
    padding: 10px; border-radius: 12px; transition: all 0.3s ease; background-color: transparent;
    cursor: default; flex-shrink: 0;
}
.carrier-item img {
    max-width: 100%; max-height: 55px; width: auto; display: block; object-fit: contain;
    filter: grayscale(100%) opacity(0.6); transition: all 0.4s ease;
}
.carrier-item:hover { background-color: #F8FAFC; transform: translateY(-5px) scale(1.05); box-shadow: 0 8px 16px rgba(44, 62, 80, 0.1); }
.carrier-item:hover img { filter: grayscale(0%) opacity(1); }

/* Products */
.section-header { max-width: 700px; margin: 0 auto 60px auto; }
.products-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; }
.product-card { padding: 50px 30px; text-align: center; }
.card-illustration img {
    height: 150px; width: auto; margin-bottom: 30px;
    filter: drop-shadow(4px 4px 0px rgba(44, 62, 80, 0.1));
    animation: float-vertical 6s ease-in-out infinite;
}
.product-card:hover .card-illustration img { transform: scale(1.05) rotate(3deg); filter: drop-shadow(5px 5px 0px rgba(74, 128, 240, 0.3)); }

/* Alex Highlights & Quote Examples */
.alex-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 80px; align-items: center; }
.lead-text { font-size: 1.3rem; font-weight: 700; color: var(--alex-blue-accent); }
.feature-list { margin-top: 30px; }
.feature-list li { margin-bottom: 15px; font-weight: 600; font-size: 1.1rem;}
.feature-list i { color: var(--alex-blue-accent); margin-right: 10px; }
.alex-image-container img { width: 100%; filter: drop-shadow(8px 8px 0px rgba(44, 62, 80, 0.1)); animation: float-vertical 9s ease-in-out infinite; }

.quote-example-card { padding: 30px; position: relative; }
.popular-choice { border-color: var(--alex-blue-accent); border-width: 3px; }
.popular-tag-sketch {
    position: absolute; top: -15px; right: 20px; background: var(--alex-blue-accent); color: white;
    padding: 8px 18px; border-radius: 30px 20px 30px 20px; font-weight: 800; font-size: 0.85rem;
    border: 2px solid var(--alex-ink); box-shadow: 3px 3px 0px var(--alex-ink); transform: rotate(2deg);
}
.quote-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.quote-header h4 { margin: 0; font-size: 1.2rem; }
.badge-sketch { 
    background: var(--bg-off-white); padding: 6px 14px; border-radius: 20px 15px 20px 15px; 
    font-size: 0.85rem; font-weight: 700; color: var(--alex-ink); border: 2px solid var(--alex-ink); 
}
.quote-price { font-size: 3rem; font-weight: 900; color: var(--alex-ink); line-height: 1; }
.quote-price .currency { font-size: 1.5rem; vertical-align: super; }
.quote-price .period { font-size: 1rem; color: var(--alex-ink-light); font-weight: 700; }
.saved-text { color: #10B981; font-weight: 800; margin: 10px 0 20px; display: flex; align-items: center; gap: 8px;}
.quote-details { border-top: 2px dashed rgba(44, 62, 80, 0.2); padding-top: 20px; }
.quote-details li { margin-bottom: 8px; font-size: 1rem; font-weight: 600; color: var(--alex-ink-light); }
.subtle-disclaimer { margin-top: 40px; font-size: 0.9rem; opacity: 0.8; }

/* App & Blog */
.app-badges { display: flex; gap: 20px; margin-top: 30px; }
.app-badge img { height: 55px; transition: transform 0.3s; border-radius: 10px; border: 2px solid var(--alex-ink); }
.app-badge:hover img { transform: translateY(-5px) rotate(-2deg); box-shadow: 3px 3px 0px var(--alex-ink); }
.floating-illo { animation: float-vertical 7s ease-in-out infinite; filter: drop-shadow(8px 8px 0px rgba(44, 62, 80, 0.1)); }

.blog-card { padding: 0; overflow: hidden; height: 100%; display: flex; flex-direction: column;}
.blog-img img { width: 100%; height: 220px; object-fit: cover; border-bottom: var(--sketch-border); }
.blog-content { padding: 25px; flex-grow: 1; display: flex; flex-direction: column; }
.blog-cat { text-transform: uppercase; font-size: 0.8rem; font-weight: 900; color: var(--alex-blue-accent); letter-spacing: 1px; }
.blog-content h4 { margin: 10px 0 auto; font-size: 1.3rem; }
.read-more { margin-top: 20px; font-weight: 800; color: var(--alex-ink); display: flex; align-items: center; gap: 10px; }
.read-more:hover { gap: 15px; color: var(--alex-blue-accent); }

/* Reviews & FAQ */
.review-card { padding: 30px; }
.stars { margin-bottom: 20px; color: var(--alex-blue-accent); }
.review-card p { font-size: 1.15rem; font-style: italic; font-weight: 600; }
.reviewer { display: flex; align-items: center; gap: 15px; margin-top: 25px; }
.avatar-sketch { border-radius: 40% 60% 50% 40% / 50% 40% 60% 50%; border: 2px solid var(--alex-ink); }
.reviewer span { font-weight: 800; }

.faq-accordion.organic-box { padding: 0; overflow: hidden; }
.faq-item { border-bottom: var(--sketch-border); }
.faq-item:last-child { border-bottom: none; }
.faq-question {
    width: 100%; text-align: left; padding: 25px; background: none; border: none;
    font-size: 1.2rem; font-weight: 800; color: var(--alex-ink);
    display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: all 0.3s;
}
.faq-question:hover { color: var(--alex-blue-accent); background: var(--bg-white); }
.faq-question i { transition: transform 0.3s; color: var(--alex-ink); }
.faq-answer { max-height: 0; overflow: hidden; padding: 0 25px; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
.faq-answer p { padding-bottom: 25px; color: var(--alex-ink-light); font-weight: 600;}
.faq-item.active .faq-question i { transform: rotate(45deg); color: var(--alex-blue-accent); }
.faq-item.active .faq-answer { max-height: 300px; }

/* Footer */
.site-footer { 
    background-color: #027ecb; 
    color: white;
    padding: 80px 0 40px;
    text-align: center;
    
    /* EFECTO SKETCH */
    border-top: 3px solid var(--alex-ink); /* Línea negra superior */
    position: relative;
    margin-top: 60px; /* Separación del contenido */
    box-shadow: inset 0 10px 0 rgba(0,0,0,0.05); /* Profundidad interna */
}

.site-footer::before {
    content: '';
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    width: 150px;
    height: 4px;
    background: var(--alex-ink);
    border-radius: 4px;
}

.footer-grid { display: grid; grid-template-columns: 2fr 1fr 1fr 1.5fr; gap: 40px; margin-bottom: 60px; text-align: left;}

.footer-col h5 {
    color: white;
    text-shadow: 2px 2px 0 rgba(0,0,0,0.1); /* Sombra leve al texto */
    font-weight: 900;
    letter-spacing: 0.5px;
}

.footer-links a, .contact-links li {
    color: rgba(255,255,255, 0.95) !important; /* Blanco casi puro */
    font-weight: 600;
}

.footer-links a:hover {
    color: var(--alex-ink) !important; /* Al pasar el mouse se pone oscuro (tinta) */
    text-decoration: underline;
    text-decoration-thickness: 2px;
}

.contact-links i { margin-right: 10px; color: var(--alex-blue-light); }
.copyright-row { 
    border-top: 2px solid rgba(255,255,255, 0.1); padding-top: 30px;
    display: flex; justify-content: space-between; align-items: center; 
    color: rgba(255,255,255, 0.6); font-size: 0.9rem; font-weight: 600;
}
.social-links a { margin-left: 20px; font-size: 1.5rem; color: rgba(255,255,255, 0.6); }
.social-links a:hover { color: var(--alex-blue-light); transform: translateY(-3px); }

/* =============================================
   6. FLOATING ELEMENTS
============================================= */
.floating-menu-btn, .chat-avatar-btn {
    width: 65px; height: 65px; 
    border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
    font-size: 28px; cursor: pointer; display: flex; align-items: center; justify-content: center;
    border: 2px solid var(--alex-ink); box-shadow: var(--shadow-button);
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}
#floating-menu-container { position: fixed; bottom: 30px; left: 30px; z-index: 998; display: flex; flex-direction: column; align-items: flex-start; }
.floating-menu-btn { 
    background: #009cff; 
    color: white;        
    width: 65px; height: 65px;
    border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
    font-size: 28px; cursor: pointer; display: flex; align-items: center; justify-content: center;
    border: 2px solid var(--alex-ink); box-shadow: var(--shadow-button);
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}
.floating-menu-btn:hover { 
    background: white;       
    color: #009cff;          
    transform: translate(3px, -3px) scale(1.05) rotate(5deg);
    box-shadow: 5px 5px 0px var(--alex-ink);
}
.floating-menu-list {
    position: absolute; bottom: 85px; left: 0; width: 250px; padding: 25px; margin-bottom: 15px;
    opacity: 0; visibility: hidden; transform: translateY(20px) scale(0.95);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); transform-origin: bottom left;
}
.floating-menu-list.is-open { opacity: 1; visibility: visible; transform: translateY(0) scale(1); }
.floating-menu-list h5 { margin-bottom: 15px; color: var(--alex-ink-light); font-size: 0.9rem; text-transform: uppercase; }
.floating-menu-list li { margin-bottom: 12px; }
.floating-menu-list a { font-weight: 800; font-size: 1rem; display: flex; align-items: center; gap: 12px; color: var(--alex-ink); }
.floating-menu-list a i { color: var(--alex-blue-accent); width: 20px; text-align: center;}
.floating-menu-list a:hover { color: var(--alex-blue-accent); transform: translateX(5px); }
.floating-menu-list .divider { height: 2px; background: rgba(44, 62, 80, 0.1); margin: 15px 0; border-radius: 4px;}

#floating-chat-container { position: fixed; bottom: 30px; right: 30px; z-index: 999; display: flex; flex-direction: column; align-items: flex-end; }
.chat-avatar-btn { background: var(--alex-blue-accent); color: white; animation: float-vertical 5s ease-in-out infinite; }
.chat-avatar-btn:hover { transform: translate(-3px, -3px) scale(1.05) rotate(-5deg); box-shadow: 5px 5px 0px var(--alex-ink); }
.chat-bubble {
    padding: 18px 28px; margin-bottom: 18px; max-width: 280px; font-size: 1rem;
    font-weight: 700; color: var(--alex-ink); opacity: 0; transform: translateY(30px) scale(0.9); transition: all 0.4s ease-out;
}
.chat-bubble.is-visible { opacity: 1; transform: translateY(0) scale(1); }
.chat-bubble strong { color: var(--alex-blue-accent); }

/* =============================================
   7. RESPONSIVE
============================================= */
/* TABLETS Y LAPTOPS PEQUEÑAS (1024px) */
@media (max-width: 1024px) {
    /* Home: Ajuste de grids */
    .products-grid, .grid-3 { grid-template-columns: repeat(2, 1fr); gap: 30px; }
    .hero-grid, .alex-grid, .grid-2-uneven { grid-template-columns: 1fr; text-align: center; }
    
    /* Video en Home */
    .hero-video-organic { width: 100%; margin: 40px auto 0; order: 2; }
    .hero-content { padding-right: 0; order: 1; }
    .hero-subtitle { margin-left: auto; margin-right: auto; }
    
    /* Centrar elementos */
    .app-badges, .reviewer, .footer-grid { justify-content: center; text-align: center; }
    .alex-image-container, .app-image-container { margin: 40px auto; width: 80%; }

    /* Quote 3: Ajuste de columnas sin ocultar nada */
    .compare-grid-layout { 
        grid-template-columns: 1fr; /* Una sola columna */
        gap: 40px;
    }
    
    /* Sidebar de Filtros en Quote 3: Se convierte en Drawer (Cajón) */
    .filters-col {
        display: none; /* Oculto por defecto */
        position: fixed;
        top: 0; 
        left: 0; 
        width: 100%; 
        height: 100%; 
        z-index: 2000;
        background: rgba(255,255,255,0.98); 
        backdrop-filter: blur(10px);
        padding: 80px 20px 100px 20px; 
        overflow-y: auto;
        transform: translateX(-100%); /* Preparado para animación */
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Cuando JS agrega la clase .is-visible */
    .filters-col.is-visible {
        display: block !important; /* Forzar aparición */
        transform: translateX(0); /* Animar entrada */
    }

    /* Ajuste para que el botón de cerrar sea visible */
    .mobile-only-btn {
        display: flex !important;
    }
    
    /* Sidebar de Acciones (Resumen): NO OCULTAR, sino reacomodar */
    .actions-col { 
        display: block !important; 
        order: 3; /* Poner al final del flujo */
    }
    /* Estilo específico para el resumen en móvil/tablet */
    .actions-col .sticky-wrapper {
        position: static; /* Ya no es sticky, es parte del flujo */
        background: #FEF9C3; /* Fondo amarillo suave para destacar */
        border-radius: 12px;
        padding: 20px;
        border: 2px dashed #F59E0B;
    }
}

/* MÓVILES (768px) */
@media (max-width: 768px) {
    :root { --section-spacing: 60px; }
    
    /* Tipografía adaptable */
    h1 { font-size: 2.4rem; line-height: 1.1; } 
    h2, .sketch-headline { font-size: 2rem; }
    .sketch-headline-sm { font-size: 1.8rem; }
    
    /* Header Móvil */
    .top-header-flex { flex-direction: column; gap: 10px; text-align: center; }
    .top-contact, .top-social { justify-content: center; display: flex; flex-wrap: wrap; gap: 15px;}
    
    /* Navegación */
    .main-nav, .header-actions { display: none; } /* Ocultar menú desktop */
    .mobile-menu-toggle { display: block; z-index: 101; position: relative; font-size: 1.6rem;}
    
    .site-header.nav-open .main-nav {
        display: flex; position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
        background: #ffffff; padding: 100px 30px; 
        flex-direction: column; align-items: flex-start; overflow-y: auto; z-index: 100;
    }
    .site-header.nav-open .main-nav ul { flex-direction: column; gap: 25px; width: 100%; }
    .site-header.nav-open .main-nav a { 
        font-size: 1.4rem; color: var(--alex-ink); font-weight: 800; display: block;
        border-bottom: 1px solid #f0f0f0; padding-bottom: 10px; width: 100%;
    }

    /* Grids a 1 columna */
    .products-grid, .grid-3, .footer-grid { grid-template-columns: 1fr; gap: 30px; }
    .footer-grid { text-align: left; }
    .copyright-row { flex-direction: column-reverse; gap: 20px; text-align: center;}
    
    /* Quote Tool Steps 1 & 2 */
    .step-grid-container { grid-template-columns: 1fr; display: flex; flex-direction: column;}
    
    /* Mover el Sidebar de Progreso (Quote 1 y 2) */
    .sidebar-col { 
        order: -1; /* Ponerlo ARRIBA para ver el progreso/precio */
        margin-bottom: 20px; width: 100%;
    }
    .sidebar-note { 
        padding: 15px 20px; transform: none; 
        display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;
    }
    .sidebar-note .progress-list-sketch, .sidebar-note .mini-tip, .sidebar-note .washi-tape { 
        display: none; /* Simplificar visualmente en móvil */
    }
    .sidebar-title { margin-bottom: 0; font-size: 1rem; border: none; }
    .sidebar-price-preview { margin-top: 0; padding-top: 0; border: none; text-align: right; }
    .sidebar-price-preview .price { font-size: 1.5rem; }

    /* Forms */
    .form-row, .form-row-3, .form-row-2, .visual-coverage-grid { flex-direction: column; grid-template-columns: 1fr; gap: 15px; }
    .quote-card-stacked { padding: 30px 20px; }
    .alex-input-modern, .alex-select-clean { font-size: 16px; /* Evita zoom en iOS */ }
    
    /* Botones Táctiles Grandes */
    .form-action, .form-action-row { flex-direction: column-reverse; gap: 15px; }
    .btn-glow-anim, .btn-outline-sketch { width: 100%; justify-content: center; padding: 16px; }

    /* Quote 3 Resultados */
    .result-content-modern { 
        grid-template-columns: 1fr; text-align: center; gap: 15px; padding: 20px;
    }
    .details-col { border: none; border-top: 1px dashed #E2E8F0; border-bottom: 1px dashed #E2E8F0; padding: 15px 0; }
    .carrier-col { display: flex; justify-content: space-between; align-items: center; width: 100%; }
    .carrier-logo-lg { margin-bottom: 0; width: 70px; }
    
    /* Botones Flotantes */
    #floating-chat-container { bottom: 85px; right: 20px; } /* Subir para no tapar barra inferior */
    #floating-menu-container { bottom: 85px; left: 20px; }
    
    /* Botón de Filtro Móvil */
    .mobile-filter-btn {
        display: flex; position: fixed; bottom: 90px; left: 50%; transform: translateX(-50%);
        background: var(--alex-ink); color: white; padding: 12px 25px; border-radius: 30px;
        z-index: 900; font-weight: 700; align-items: center; gap: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2); border: 2px solid white;
    }
    
    /* Barra de Acción Inferior (Quote 3) */
    .mobile-action-bar {
        display: flex; position: fixed; bottom: 0; left: 0; width: 100%;
        background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
        padding: 15px 20px; z-index: 995; border-top: 1px solid #E2E8F0;
        justify-content: space-between; align-items: center;
        box-shadow: 0 -5px 20px rgba(0,0,0,0.05);
    }
    .compare-grid-layout { padding-bottom: 100px; /* Espacio para la barra */ }
}

/* UTILIDADES MÓVILES GLOBALES */
.mobile-filter-btn, .mobile-action-bar { display: none; } /* Ocultos en desktop */

/* =============================================
   8. MISC (Transition, Logo, Motion)
============================================= */
#transition-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: var(--bg-white); z-index: 9999; opacity: 0; pointer-events: none;
    transition: opacity 0.5s ease-in-out;
}
#transition-overlay.is-active { opacity: 1; pointer-events: all; }

.logo-container { display: flex; align-items: center; }
.site-logo { height: 100px; width: auto; max-width: 100%; display: block; }
@media (max-width: 768px) { .site-logo { height: 80px; } }

video.product-icon { filter: none !important; object-fit: contain; }
.card-illustration video { width: 100%; height: 150px; object-fit: contain; filter: none; transition: transform 0.3s ease; }
.product-card:hover .card-illustration video { transform: scale(1.1); }

.square-video-box {
    width: 180px; height: 180px; margin: 0 auto 30px auto; border-radius: 25px;
    overflow: hidden; background-color: #f0f0f0; box-shadow: 0 8px 16px rgba(44, 62, 80, 0.1);
    transition: transform 0.3s ease;
}
.square-video-box video { width: 100%; height: 100%; object-fit: cover; display: block; filter: none !important; }
.product-card:hover .square-video-box { transform: scale(1.05) rotate(-2deg); box-shadow: 0 12px 24px rgba(74, 128, 240, 0.2); }

/* =============================================
   9. QUOTE TOOL LAYOUT & FORM ELEMENTS
============================================= */
.quote-page-body { background-color: var(--bg-off-white); min-height: 100vh; display: flex; flex-direction: column; }
.quote-nav { display: flex; justify-content: space-between; align-items: center; padding: 30px 5%; }
.nav-back-btn { color: var(--alex-blue-accent); font-weight: 800; font-size: 1.1rem; display: flex; align-items: center; gap: 10px; transition: transform 0.2s; }
.nav-back-btn:hover { transform: translateX(-5px); }
.nav-mini-logo { height: 80px; opacity: 0.8; }

.lang-switch { background-color: #E2E8F0; padding: 5px; border-radius: 30px; display: flex; gap: 5px; font-size: 0.85rem; font-weight: 700; }
.lang-option { padding: 5px 15px; border-radius: 20px; color: var(--alex-ink-light); cursor: pointer; transition: all 0.3s; }
.lang-option:hover { color: var(--alex-ink); }
.lang-option.active { background-color: var(--alex-blue-accent); color: white; box-shadow: 0 2px 4px rgba(74, 128, 240, 0.3); }

.quote-main-content { flex-grow: 1; display: flex; align-items: center; justify-content: center; padding-bottom: 60px; position: relative; overflow: hidden; }
.bg-decoration-circle { position: absolute; border-radius: 50%; background: radial-gradient(circle, rgba(74,128,240,0.08) 0%, rgba(255,255,255,0) 70%); z-index: -1; pointer-events: none; }
.circle-top { width: 800px; height: 800px; top: -300px; right: -200px; }
.circle-bottom { width: 600px; height: 600px; bottom: -200px; left: -100px; }

/* Quote Form Inputs */
.quote-tool-container { max-width: 550px; margin: 20px auto; position: relative; padding-top: 25px; width: 90%; }
.quote-badge-floating {
    position: absolute; top: 0; left: 50%; transform: translateX(-50%) rotate(-2deg);
    background-color: var(--alex-blue-accent); color: white; padding: 8px 24px; font-weight: 800; font-size: 1rem;
    border-radius: 20px 15px 20px 15px; border: 2px solid var(--alex-ink); z-index: 10; box-shadow: 3px 3px 0px rgba(44, 62, 80, 0.2);
}
.quote-card { padding: 50px 40px 40px 40px; background: #ffffff; border: 3px solid var(--alex-ink); }
.quote-header h3 { margin-bottom: 5px; color: var(--alex-blue-accent); }
.quote-header p { color: var(--alex-ink-light); margin-bottom: 30px; font-size: 0.95rem; }
.form-row { display: flex; gap: 20px; }
.form-row .form-group { flex: 1; }
.form-group { margin-bottom: 20px; text-align: left; }
.form-group label { display: block; font-weight: 700; font-size: 0.9rem; margin-bottom: 8px; color: var(--alex-ink); }
.input-wrapper { position: relative; }
.input-icon { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--alex-blue-accent); opacity: 0.6; }
.alex-input {
    width: 100%; padding: 12px 15px 12px 40px; border: 2px solid #E2E8F0; border-radius: 12px;
    font-family: var(--font-main); font-size: 1rem; color: var(--alex-ink); transition: all 0.3s ease; background-color: #F8FAFC;
}
.alex-input:focus { outline: none; border-color: var(--alex-blue-accent); background-color: #fff; box-shadow: 0 0 0 4px rgba(74, 128, 240, 0.1); }
.form-check-legal { display: flex; gap: 12px; align-items: flex-start; margin-bottom: 30px; background: #F1F5F9; padding: 15px; border-radius: 12px; border: 1px dashed #CBD5E1; }
.custom-checkbox { margin-top: 4px; accent-color: var(--alex-blue-accent); transform: scale(1.2); cursor: pointer; }
.legal-text { font-size: 0.75rem; line-height: 1.4; color: var(--alex-ink-light); font-weight: 500; }
.legal-text a { color: var(--alex-blue-accent); text-decoration: underline; }
.legal-muted { display: block; margin-top: 5px; font-size: 0.7rem; opacity: 0.8; }
.btn-block { width: 100%; display: flex; justify-content: center; align-items: center; gap: 10px; }

@media (max-width: 600px) {
    .form-row { flex-direction: column; gap: 0; }
    .quote-card { padding: 40px 20px 30px 20px; }
    .quote-nav { padding: 20px; }
    .circle-top, .circle-bottom { opacity: 0.5; }
}

/* =============================================
   10. QUOTE PAGE: "PREMIUM" (Step 1 & 2 styles)
============================================= */
.lang-switch-modern { background: white; padding: 4px; border-radius: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); display: flex; }
.lang-opt { padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 800; cursor: pointer; color: #94A3B8; transition: all 0.2s; }
.lang-opt.active { background: var(--alex-ink); color: white; }

.quote-badge-3d {
    position: absolute; top: -15px; left: 50%; transform: translateX(-50%) rotate(-3deg);
    background: linear-gradient(135deg, #4A80F0, #2E5BFF); color: white; padding: 8px 20px; font-weight: 800; font-size: 0.9rem;
    border-radius: 12px; z-index: 20; box-shadow: 0 10px 20px rgba(74, 128, 240, 0.3); border: 2px solid white;
}
.quote-card-stacked {
    background: white; border-radius: 24px; padding: 50px 40px 40px; position: relative; z-index: 10;
    border: 1px solid rgba(255,255,255,0.8); box-shadow: 0 20px 40px rgba(44, 62, 80, 0.08), 0 1px 3px rgba(0,0,0,0.05);
}
.card-shadow-layer {
    position: absolute; top: 15px; left: 10px; width: 100%; height: 100%; background: #E8EDF5; border-radius: 24px; z-index: 5;
    transform: rotate(2deg); opacity: 0.6;
}
.progress-container { height: 6px; background: #F1F5F9; border-radius: 10px; overflow: hidden; margin-bottom: 10px; }
.progress-bar { height: 100%; background: var(--alex-blue-accent); border-radius: 10px; position: relative; overflow: hidden; }
.progress-bar::after {
    content: ''; position: absolute; top: 0; left: 0; bottom: 0; right: 0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    transform: translateX(-100%); animation: shimmer 2s infinite;
}
.steps-indicator { text-align: right; font-size: 0.75rem; color: var(--alex-blue-accent); font-weight: 700; margin-bottom: 25px; }

.input-modern-wrapper { position: relative; transition: all 0.3s; }
.alex-input-modern {
    width: 100%; padding: 14px 15px 14px 45px; border: 2px solid #F1F5F9; border-radius: 14px;
    background: #F8FAFC; color: var(--alex-ink); font-size: 1rem; font-weight: 600;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}
.alex-input-modern:focus {
    outline: none; background: white; border-color: var(--alex-blue-accent);
    box-shadow: 0 4px 12px rgba(74, 128, 240, 0.1); transform: translateY(-2px);
}
.alex-input-modern:focus + .input-focus-border + .input-icon, .alex-input-modern:focus ~ .input-icon { color: var(--alex-blue-accent); }

.form-check-modern { display: flex; gap: 12px; margin: 25px 0; background: #F8FAFC; padding: 15px; border-radius: 12px; border: 1px solid #F1F5F9; }
.custom-check-container { position: relative; width: 22px; height: 22px; cursor: pointer; flex-shrink: 0; margin-top: 2px; }
.custom-check-container input { opacity: 0; cursor: pointer; height: 0; width: 0; }
.checkmark {
    position: absolute; top: 0; left: 0; height: 22px; width: 22px; background-color: white; border: 2px solid #CBD5E1; border-radius: 6px; transition: 0.2s;
}
.custom-check-container input:checked ~ .checkmark { background-color: var(--alex-blue-accent); border-color: var(--alex-blue-accent); }
.checkmark:after {
    content: ""; position: absolute; display: none; left: 7px; top: 3px; width: 5px; height: 10px;
    border: solid white; border-width: 0 2px 2px 0; transform: rotate(45deg);
}
.custom-check-container input:checked ~ .checkmark:after { display: block; }
.legal-text-modern { font-size: 0.75rem; color: #475569; line-height: 1.4; font-weight: 500; text-align: left; }
.legal-text-modern a { color: var(--alex-blue-accent); font-weight: 700; text-decoration: underline; }
.sub-legal { display: block; font-size: 0.7rem; color: #94A3B8; margin-top: 8px; line-height: 1.3; }

.btn-glow-anim {
    width: 100%; padding: 18px; border: none; border-radius: 14px;
    background: linear-gradient(135deg, #4A80F0 0%, #3B66CC 100%);
    color: white; font-size: 1.1rem; font-weight: 800; cursor: pointer;
    display: flex; justify-content: center; align-items: center; gap: 10px;
    transition: all 0.3s; position: relative; overflow: hidden;
    box-shadow: 0 10px 20px rgba(74, 128, 240, 0.3);
}
.btn-glow-anim:hover { transform: translateY(-3px); box-shadow: 0 15px 30px rgba(74, 128, 240, 0.4); }
.btn-glow-anim i { transition: transform 0.3s; }
.btn-glow-anim:hover i { transform: translateX(5px); }
.secure-badge { text-align: center; font-size: 0.75rem; color: #94A3B8; margin-top: 15px; font-weight: 600; }
.secure-badge i { color: #10B981; margin-right: 5px; }

/* =============================================
   11. MODAL (Available Quotes)
============================================= */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); z-index: 9999;
    display: flex; justify-content: center; align-items: center; opacity: 0; visibility: hidden; pointer-events: none; transition: all 0.4s ease;
}
.modal-overlay.is-active { opacity: 1; visibility: visible; pointer-events: all; }
.modal-wrapper {
    background: white; width: 90%; max-width: 850px; border-radius: 20px;
    box-shadow: 0 25px 50px rgba(0,0,0,0.15); padding: 40px; position: relative;
    transform: translateY(20px) scale(0.95); transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); border: 1px solid #f0f0f0;
}
.modal-overlay.is-active .modal-wrapper { transform: translateY(0) scale(1); }
.modal-title { color: #0EA5E9; font-size: 1.5rem; font-weight: 800; text-transform: uppercase; margin-bottom: 15px; letter-spacing: 1px; }
.modal-subtitle { color: #64748B; font-size: 0.95rem; margin-bottom: 30px; max-width: 600px; margin-left: auto; margin-right: auto; }
.table-responsive { overflow-x: auto; margin-bottom: 35px; border: 1px solid #E2E8F0; border-radius: 12px; }
.quotes-table { width: 100%; border-collapse: collapse; min-width: 600px; }
.quotes-table th { background: #F8FAFC; color: #475569; font-weight: 700; font-size: 0.85rem; padding: 15px; text-align: left; border-bottom: 1px solid #E2E8F0; }
.quotes-table td { padding: 15px; border-bottom: 1px solid #F1F5F9; font-size: 0.9rem; color: #334155; text-align: left; vertical-align: middle; }
.quotes-table tr:last-child td { border-bottom: none; }
.time-muted { font-size: 0.75rem; color: #94A3B8; }
.fw-bold { font-weight: 700; color: #1E293B; }
.status-badge { color: #64748B; background: #F1F5F9; padding: 4px 10px; border-radius: 6px; font-size: 0.8rem; font-weight: 600; }
.btn-select { background: #E0E7FF; color: #4338CA; border: none; padding: 8px 16px; border-radius: 6px; font-weight: 700; cursor: pointer; font-size: 0.85rem; transition: 0.2s; }
.btn-select:hover { background: #4338CA; color: white; }
.modal-footer-actions { display: flex; justify-content: center; gap: 20px; }
.btn-purple-action { background: #8B5CF6; color: white; border: none; padding: 12px 30px; border-radius: 8px; font-weight: 800; text-transform: uppercase; cursor: pointer; box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3); transition: 0.3s; }
.btn-purple-action:hover { background: #7C3AED; transform: translateY(-2px); }
.btn-coral-action { background: #F87171; color: white; border: none; padding: 12px 30px; border-radius: 8px; font-weight: 800; text-transform: uppercase; cursor: pointer; box-shadow: 0 4px 15px rgba(248, 113, 113, 0.3); transition: 0.3s; }
.btn-coral-action:hover { background: #EF4444; transform: translateY(-2px); }
.modal-floating-logo { position: absolute; right: -40px; top: 50%; transform: translateY(-50%); width: 120px; opacity: 0.9; display: none; }
@media (min-width: 900px) { .modal-floating-logo { display: block; } }
.modal-close-btn { position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 1.2rem; color: #94A3B8; cursor: pointer; transition: 0.2s; }
.modal-close-btn:hover { color: #F87171; transform: rotate(90deg); }

/* =============================================
   12. STEP 2: VEHICLES & HIGH END UI
============================================= */
.step-layout-wrapper { padding-bottom: 80px; align-items: flex-start; padding-top: 40px; }
.step-grid-container { display: grid; grid-template-columns: 1fr 280px; gap: 40px; max-width: 1000px; width: 90%; margin: 0 auto; }
.main-form-col { position: relative; perspective: 1000px; }
.alex-input-group { margin-bottom: 20px; text-align: left; }
.alex-input-group label { font-size: 0.85rem; font-weight: 700; color: var(--alex-ink); margin-bottom: 8px; display: block; }
.form-row-3 { display: flex; gap: 15px; }
.form-row-3 .alex-input-group { flex: 1; }
.validation-icon { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #10B981; opacity: 0; transition: 0.3s; }
.alex-input-modern:not(:placeholder-shown) ~ .validation-icon { opacity: 1; }
.divider-dashed { border-top: 2px dashed #E2E8F0; margin: 30px 0 20px; }
.subsection-title { color: var(--alex-blue-accent); font-weight: 800; margin-bottom: 20px; text-transform: uppercase; font-size: 0.9rem; letter-spacing: 1px; }
.coverage-selection-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
.coverage-item { background: #F8FAFC; padding: 15px; border-radius: 12px; border: 1px solid #F1F5F9; }
.cov-label { display: block; font-size: 0.8rem; font-weight: 700; color: #64748B; margin-bottom: 8px; }
.small-select { padding: 10px; font-size: 0.9rem; background: white; }
.form-action-row { display: flex; gap: 20px; margin-top: 20px; }
.btn-outline-sketch {
    flex: 1; padding: 16px; border: 2px dashed var(--alex-ink); border-radius: 14px;
    background: transparent; color: var(--alex-ink); font-weight: 800; cursor: pointer;
    transition: all 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px;
}
.btn-outline-sketch:hover { background: #F1F5F9; border-color: var(--alex-blue-accent); color: var(--alex-blue-accent); }
.sidebar-col { position: sticky; top: 20px; }
.sidebar-note { padding: 30px 25px; background: white; transform: rotate(1deg); }
.sidebar-title { font-size: 1.1rem; color: var(--alex-ink); margin-bottom: 20px; border-bottom: 2px solid var(--alex-blue-accent); display: inline-block; padding-bottom: 5px; }
.progress-list-sketch { list-style: none; padding: 0; margin: 0; }
.progress-list-sketch li { margin-bottom: 15px; color: #94A3B8; font-weight: 600; font-size: 0.95rem; display: flex; align-items: center; gap: 10px; }
.progress-list-sketch li.done { color: var(--alex-ink); text-decoration: line-through; text-decoration-color: #10B981; text-decoration-thickness: 2px; }
.progress-list-sketch li.done i { color: #10B981; }
.progress-list-sketch li.active { color: var(--alex-blue-accent); font-weight: 800; position: relative; }
.sketch-circle { display: inline-block; width: 10px; height: 10px; background: var(--alex-blue-accent); border-radius: 50%; box-shadow: 0 0 0 4px rgba(74, 128, 240, 0.2); }
.mini-tip { margin-top: 30px; background: #FEF3C7; padding: 15px; border-radius: 12px; font-size: 0.85rem; color: #92400E; border: 1px dashed #F59E0B; line-height: 1.4; }
.mini-tip i { margin-right: 5px; }

@media (max-width: 900px) {
    .step-grid-container { grid-template-columns: 1fr; }
    .sidebar-col { display: none; }
    .form-row-3 { flex-direction: column; gap: 15px; }
    .coverage-selection-grid { grid-template-columns: 1fr; }
    .form-action-row { flex-direction: column-reverse; }
}

.anim-entry-item { opacity: 0; transform: translateY(20px); animation: slideUpFade 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
@keyframes slideUpFade { to { opacity: 1; transform: translateY(0); } }
.scan-btn {
    position: absolute; right: 40px; top: 50%; transform: translateY(-50%);
    background: none; border: none; color: #94A3B8; cursor: pointer; transition: 0.2s;
}
.scan-btn:hover { color: var(--alex-blue-accent); transform: translateY(-50%) scale(1.1); }

.visual-coverage-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 30px; }
.coverage-tile { position: relative; cursor: pointer; }
.coverage-tile input { display: none; }
.tile-content {
    display: flex; align-items: center; gap: 12px; padding: 15px; border-radius: 12px;
    background: #F8FAFC; border: 2px solid #E2E8F0; transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
}
.tile-icon {
    width: 40px; height: 40px; background: white; border-radius: 8px; display: flex; align-items: center; justify-content: center;
    color: #64748B; font-size: 1.1rem; box-shadow: 0 2px 5px rgba(0,0,0,0.05); transition: 0.2s;
}
.tile-info { flex-grow: 1; }
.tile-title { display: block; font-weight: 700; font-size: 0.9rem; color: var(--alex-ink); }
.tile-desc { display: block; font-size: 0.75rem; color: #94A3B8; }
.tile-check {
    width: 20px; height: 20px; background: #10B981; border-radius: 50%; color: white;
    display: flex; align-items: center; justify-content: center; font-size: 0.7rem; opacity: 0; transform: scale(0.5); transition: 0.2s;
}
.coverage-tile input:checked + .tile-content, .coverage-tile.selected .tile-content {
    background: white; border-color: var(--alex-blue-accent); box-shadow: 0 5px 15px rgba(74, 128, 240, 0.15);
}
.coverage-tile.selected .tile-icon { background: var(--alex-blue-accent); color: white; }
.coverage-tile.selected .tile-check { opacity: 1; transform: scale(1); }

.taped-note { position: relative; border-top: none; }
.washi-tape {
    position: absolute; top: -15px; left: 50%; transform: translateX(-50%) rotate(-1deg);
    width: 120px; height: 35px; background-color: rgba(95, 212, 244, 0.4); opacity: 0.8;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    mask-image: url("data:image/svg+xml,%3Csvg width='200' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10 L5 0 L10 10 L15 0 L20 10 L25 0 L200 0 L200 60 L195 50 L190 60 L185 50 L0 60 Z' fill='black'/%3E%3C/svg%3E");
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='200' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10 L5 0 L10 10 L15 0 L20 10 L25 0 L200 0 L200 60 L195 50 L190 60 L185 50 L0 60 Z' fill='black'/%3E%3C/svg%3E");
    mask-size: 100% 100%;
}
.sidebar-price-preview { margin-top: 20px; padding-top: 20px; border-top: 2px dashed #E2E8F0; text-align: center; }
.sidebar-price-preview .label { display: block; font-size: 0.8rem; color: #64748B; font-weight: 700; text-transform: uppercase;}
.sidebar-price-preview .price { font-size: 2rem; font-weight: 900; color: var(--alex-ink); }
.sidebar-price-preview .price span { font-size: 1rem; color: #94A3B8; font-weight: 600; }

@media (max-width: 600px) { .visual-coverage-grid { grid-template-columns: 1fr; } }

.form-row-2 { display: flex; gap: 20px; margin-bottom: 20px; }
.flex-grow { flex-grow: 1; }
.tile-top-row { display: flex; justify-content: space-between; align-items: center; width: 100%; margin-bottom: 8px; }
.tile-select {
    width: 100%; padding: 8px; border-radius: 8px; border: 1px solid #E2E8F0;
    font-size: 0.85rem; color: var(--alex-ink-light); background: white;
    font-weight: 600; cursor: pointer; transition: 0.2s;
}
.tile-select:hover { border-color: var(--alex-blue-accent); }
.visual-coverage-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 30px; }
.full-width-tile { grid-column: span 2; }
.horizontal-layout { display: flex; justify-content: space-between; align-items: center; width: 100%; }
.wide-select { width: auto; min-width: 180px; }
.coverage-tile.selected .tile-content { border-color: var(--alex-blue-accent); background: #F0F9FF; box-shadow: 0 4px 12px rgba(74, 128, 240, 0.1); }
.coverage-tile.selected .tile-title { color: var(--alex-blue-accent); }
@media (max-width: 600px) {
    .form-row-2 { flex-direction: column; gap: 0; }
    .visual-coverage-grid { grid-template-columns: 1fr; }
    .full-width-tile { grid-column: span 1; }
    .horizontal-layout { flex-direction: column; align-items: flex-start; gap: 10px; }
    .wide-select { width: 100%; }
}

.vehicle-tabs-container { display: flex; gap: 10px; margin-bottom: -2px; padding-left: 10px; position: relative; z-index: 20; }
.v-tab {
    background: #E2E8F0; border: none; border-radius: 12px 12px 0 0; padding: 12px 20px;
    display: flex; align-items: center; gap: 12px; cursor: pointer; transition: all 0.2s ease;
    border: 1px solid transparent; min-width: 160px; position: relative; top: 2px;
}
.tab-info { text-align: left; }
.tab-sub { display: block; font-size: 0.7rem; font-weight: 700; color: #64748B; text-transform: uppercase; }
.tab-title { display: block; font-size: 0.9rem; font-weight: 800; color: var(--alex-ink); }
.car-icon-bg { width: 32px; height: 32px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #94A3B8; transition: 0.2s; }
.v-tab.active {
    background: white; border: 1px solid rgba(255,255,255,0.8); border-bottom: 2px solid white;
    box-shadow: 0 -5px 15px rgba(0,0,0,0.03); z-index: 30; top: 2px; padding-bottom: 14px;
}
.v-tab.active .tab-title { color: var(--alex-blue-accent); }
.v-tab.active .car-icon-bg { background: var(--alex-blue-accent); color: white; }
.v-tab:not(.active):hover { background: #CBD5E1; }
.v-tab-add {
    width: 40px; height: 40px; background: transparent; border: 2px dashed #CBD5E1;
    border-radius: 50%; color: #94A3B8; cursor: pointer; display: flex; align-items: center; justify-content: center;
    align-self: center; margin-left: 5px; transition: 0.2s;
}
.v-tab-add:hover { border-color: var(--alex-blue-accent); color: var(--alex-blue-accent); }
.quote-card-stacked { position: relative; z-index: 10; }

.vehicle-badge-tabs { position: relative; height: 40px; margin-bottom: 0px; z-index: 50; display: flex; justify-content: center; gap: 15px; }
.badge-vehicle { position: relative; top: 0; left: auto; transform: none; cursor: pointer; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); border: 2px solid white; font-size: 0.9rem; padding: 8px 20px; }
.badge-vehicle.active {
    background: linear-gradient(135deg, #10B981, #059669); color: white;
    transform: translateY(-15px) rotate(-2deg) scale(1.1); box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3); z-index: 10;
}
.badge-vehicle.inactive {
    background: #CBD5E1; color: #64748B; transform: translateY(0px) rotate(0deg) scale(0.95);
    box-shadow: none; z-index: 1; border-color: transparent;
}
.badge-vehicle.inactive:hover { background: #94A3B8; color: white; transform: translateY(-5px); }
.add-badge-btn {
    width: 35px; height: 35px; background: white; border: 2px dashed #CBD5E1; border-radius: 50%;
    color: #94A3B8; cursor: pointer; display: flex; align-items: center; justify-content: center;
    transition: 0.2s; align-self: center;
}
.add-badge-btn:hover { border-color: var(--alex-blue-accent); color: var(--alex-blue-accent); }
@media (max-width: 600px) {
    .vehicle-badge-tabs { gap: 5px; }
    .badge-vehicle { font-size: 0.8rem; padding: 6px 12px; }
    .badge-vehicle.active { transform: translateY(-10px) rotate(-2deg); }
}

/* =============================================
   13. STEP 3: SMART COMPARISON CENTER
============================================= */
.compare-grid-layout { display: grid; grid-template-columns: 290px 1fr 240px; gap: 30px; padding-bottom: 80px; align-items: start; }

/* Titles */
.sketch-headline { font-size: 2rem; color: var(--alex-ink); position: relative; display: inline-block; }
.sketch-headline::after {
    content: ''; position: absolute; bottom: 5px; left: 0; width: 100%; height: 8px;
    background: rgba(95, 212, 244, 0.3); z-index: -1; transform: rotate(-1deg) scaleX(1.1); border-radius: 4px;
}

/* Sidebar */
.badge-sidebar-float {
    position: absolute; top: -12px; left: 20px; z-index: 50;
    background: var(--alex-blue-accent); color: white; font-weight: 800; font-size: 0.8rem;
    padding: 6px 16px; border-radius: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    border: 2px solid white; transform: rotate(-2deg);
}
.sidebar-panel { background: #FFFFFF; border: 2px solid var(--alex-ink); padding: 0; position: relative; overflow: visible; }
.panel-header-clean {
    padding: 25px 20px 15px 20px; border-bottom: 2px dashed #E2E8F0;
    background: #F8FAFC; border-radius: var(--organic-radius) var(--organic-radius) 0 0;
}
.vehicle-switcher-modern { display: flex; align-items: center; justify-content: space-between; gap: 10px; }
.v-info-center { display: flex; flex-direction: column; align-items: center; text-align: center; }
.v-tag {
    background: #E0F2FE; color: #0284C7; font-size: 0.65rem; font-weight: 800;
    text-transform: uppercase; padding: 3px 8px; border-radius: 4px; margin-bottom: 4px; display: inline-block;
}
.v-name { font-size: 0.95rem; font-weight: 800; color: var(--alex-ink); line-height: 1.2; }
.v-switch-btn {
    width: 32px; height: 32px; background: white; border: 1px solid #CBD5E1;
    border-radius: 50%; color: #64748B; cursor: pointer; transition: 0.2s;
    display: flex; align-items: center; justify-content: center;
}
.v-switch-btn:hover { border-color: var(--alex-blue-accent); color: var(--alex-blue-accent); }

.scrollable-filters-clean { padding: 20px; max-height: 75vh; overflow-y: auto; }
.filter-block { margin-bottom: 25px; }
.block-label { font-size: 0.75rem; font-weight: 800; color: #94A3B8; text-transform: uppercase; margin-bottom: 8px; display: block; }

.segment-control { display: flex; background: #F1F5F9; padding: 4px; border-radius: 8px; }
.segment-control label { flex: 1; cursor: pointer; }
.segment-control input { display: none; }
.segment-item {
    display: block; text-align: center; font-size: 0.8rem; font-weight: 700;
    padding: 8px; border-radius: 6px; color: #64748B; transition: 0.2s;
}
.segment-control input:checked + .segment-item { background: white; color: var(--alex-blue-accent); box-shadow: 0 2px 4px rgba(0,0,0,0.05); }

.floating-label { display: block; font-size: 0.8rem; font-weight: 700; color: var(--alex-ink); margin-bottom: 6px; }
.alex-select-clean {
    width: 100%; padding: 10px; border: 1px solid #CBD5E1; border-radius: 8px;
    font-weight: 600; font-size: 0.9rem; color: var(--alex-ink); background: white;
    cursor: pointer; transition: 0.2s;
}
.alex-select-clean:hover { border-color: var(--alex-blue-accent); }
.mb-3 { margin-bottom: 12px; }

.filter-highlight-box {
    background: #EFF6FF; border: 1px dashed #BFDBFE; border-radius: 12px;
    padding: 20px; margin: 0 -20px 25px -20px; border-top: 1px dashed #BFDBFE; border-bottom: 1px dashed #BFDBFE;
}
.split-inputs { display: flex; gap: 10px; }
.input-col { flex: 1; }
.tiny-label { display: block; font-size: 0.7rem; color: #60A5FA; font-weight: 700; margin-bottom: 4px; }
.alex-select-clean.small { padding: 6px; font-size: 0.85rem; }
.white-bg { background: white; border-radius: 8px; }

.extra-row {
    display: flex; justify-content: space-between; align-items: center;
    padding: 8px 0; border-bottom: 1px solid #F1F5F9; font-size: 0.9rem; color: var(--alex-ink);
}
.extra-row:last-child { border-bottom: none; }
.alex-select-inline {
    border: 1px solid #E2E8F0; background: white; padding: 4px 8px; border-radius: 6px;
    font-size: 0.85rem; color: var(--alex-ink); cursor: pointer; font-weight: 600;
}
.sidebar-footer { padding: 20px; border-top: 2px solid #E2E8F0; background: #fff; border-radius: 0 0 20px 20px; }
.small-glow { font-size: 0.9rem; padding: 12px; }

/* Quote Cards */
.quote-result-card { margin-bottom: 25px; border-left: none; position: relative; overflow: visible; transition: all 0.3s; }
.quote-result-card:hover { transform: translateY(-5px); }
.result-content-modern { display: grid; grid-template-columns: 140px 1fr 180px; padding: 25px; align-items: center; gap: 20px; }
.carrier-col { text-align: center; }
.carrier-logo-lg { width: 80px; height: auto; margin-bottom: 8px; }
.rating-stars { font-size: 0.7rem; color: #F59E0B; font-weight: 700; }
.rating-stars span { color: #94A3B8; margin-left: 4px; }
.details-col { border-left: 1px dashed #E2E8F0; border-right: 1px dashed #E2E8F0; padding: 0 25px; }
.plan-title { font-size: 1.1rem; color: var(--alex-ink); margin-bottom: 8px; }
.tags-container { display: flex; gap: 8px; margin-bottom: 10px; flex-wrap: wrap; }
.spec-tag { background: #F1F5F9; padding: 4px 8px; border-radius: 6px; font-size: 0.7rem; font-weight: 700; color: #475569; display: flex; align-items: center; gap: 5px; }
.spec-tag.warning { background: #FEF3C7; color: #B45309; }
.micro-benefits { list-style: none; }
.micro-benefits li { font-size: 0.8rem; color: #64748B; margin-bottom: 3px; }
.micro-benefits i { color: #10B981; margin-right: 5px; }
.text-red { color: #EF4444 !important; }
.price-col {
    position: relative;
    z-index: 10; /* Esto evita que el efecto "Selected" tape el precio */
}.price-group { position: relative; display: inline-block; font-size: 2rem; font-weight: 900; color: var(--alex-ink); margin-bottom: 5px; }
.highlighter-mark {
    position: absolute;
    top: 55%; 
    left: -5px; 
    /* Quitamos 'right' para poder animar el ancho desde la izquierda */
    width: 0%; 
    height: 14px; /* Un poco más grueso para que se note bien */
    background: rgba(250, 204, 21, 0.5); /* Amarillo marcador */
    z-index: -1; 
    transform: translateY(-50%) rotate(-2deg);
    border-radius: 2px;
    /* Animación suave tipo "dibujo" */
    transition: width 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}
.pay-total { font-size: 0.7rem; color: #64748B; margin-bottom: 12px; }
.btn-blue-sketch {
    width: 100%; padding: 10px; background: #009cff; color: white;
    border: 2px solid var(--alex-ink); border-radius: 10px;
    font-weight: 800; cursor: pointer; box-shadow: 3px 3px 0 var(--alex-ink);
    transition: 0.2s; font-size: 0.9rem;
}

.btn-green-sketch {
    width: 100%; padding: 10px; background: #10B981; color: white;
    border: 2px solid var(--alex-ink); border-radius: 10px;
    font-weight: 800; cursor: pointer; box-shadow: 3px 3px 0 var(--alex-ink);
    transition: 0.2s; font-size: 0.9rem;
}

.btn-blue-sketch:hover { transform: translate(-2px, -2px); box-shadow: 5px 5px 0 var(--alex-ink); }
.btn-blue-sketch.selected-state { background: #027ecb; box-shadow: inset 0 3px 5px rgba(0,0,0,0.3); transform: translate(2px, 2px); }
.btn-outline-sketch-sm {
    width: 100%; padding: 10px; background: transparent; color: var(--alex-ink);
    border: 2px solid #CBD5E1; border-radius: 12px; font-weight: 700; cursor: pointer; transition: 0.2s;
}
.btn-outline-sketch-sm:hover { border-color: var(--alex-blue-accent); color: var(--alex-blue-accent); }

/* Ink Stamp */
.ink-stamp-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    display: flex; align-items: center; justify-content: center;
    pointer-events: none; opacity: 0; transition: 0.3s;
    background: rgba(255,255,255,0.7); backdrop-filter: blur(1px); z-index: 5;
    border-radius: var(--organic-radius);
}
.ink-stamp {
    border: 4px solid #009cff; color: #009cff; font-size: 1.8rem; font-weight: 900;
    padding: 10px 30px; border-radius: 8px; transform: rotate(-15deg) scale(2); opacity: 0;
    transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); mix-blend-mode: multiply;
}
.quote-result-card.is-selected .ink-stamp-overlay { opacity: 1; pointer-events: auto; }
.quote-result-card.is-selected .ink-stamp { transform: rotate(-15deg) scale(1); opacity: 1; }

/* Sticky Note */
.sticky-note-yellow {
    background: #FEF08A; padding: 25px; transform: rotate(1deg); position: relative;
    box-shadow: 4px 4px 10px rgba(0,0,0,0.1); border: none; color: #854D0E;
}
.pin-tack {
    position: absolute; top: -10px; left: 50%; transform: translateX(-50%);
    width: 12px; height: 12px; background: #EF4444; border-radius: 50%;
    box-shadow: 1px 1px 2px rgba(0,0,0,0.3);
}
.handwritten-list { margin-top: 15px; font-weight: 600; list-style: disc; padding-left: 20px; }
.note-divider { border: 0; border-top: 1px dashed #CA8A04; margin: 15px 0; opacity: 0.5; }
.note-total { display: flex; justify-content: space-between; font-size: 1.1rem; }
.text-green { color: #15803D; }

/* Sticker "Alex's Choice" */
.sticker-badge {
    position: absolute; top: -12px; left: -10px; z-index: 10;
    background: #FACC15; color: var(--alex-ink);
    padding: 6px 12px; font-weight: 900; font-size: 0.7rem;
    border: 2px solid var(--alex-ink);
    border-radius: 20px 5px 20px 5px; transform: rotate(-5deg);
    box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
}

@media (max-width: 1200px) {
    .compare-grid-layout { grid-template-columns: 260px 1fr; }
    .actions-col { display: none; }
}
@media (max-width: 900px) {
    .compare-grid-layout { grid-template-columns: 1fr; }
    .filters-col { display: none; }
    .result-content-modern { grid-template-columns: 1fr; text-align: center; gap: 15px; }
    .details-col { border: none; border-top: 1px dashed #E2E8F0; border-bottom: 1px dashed #E2E8F0; padding: 15px 0; }
}

/* =============================================
   MODAL DE COMPARACIÓN (TABLA)
============================================= */

/* Hacemos el modal más ancho para la tabla */
.modal-wrapper.modal-wide {
    max-width: 1000px;
    width: 95%;
    padding: 0; /* Quitamos padding para que el header toque los bordes */
    overflow: hidden; /* Para bordes redondeados */
}

/* Header del Modal */
.modal-header-compare {
    padding: 30px 30px 0 30px;
    background: #fff;
}

/* Tabs de Vehículos (Estilo Botón Azul vs Gris) */
.modal-vehicle-tabs {
    display: flex; gap: 5px; margin-top: 20px;
}
.mv-tab {
    padding: 10px 20px;
    font-size: 0.8rem; font-weight: 800; text-transform: uppercase;
    background: #F1F5F9; color: #64748B;
    border-radius: 10px 10px 0 0;
    cursor: pointer; transition: 0.2s;
}
.mv-tab.active {
    background: var(--alex-blue-accent); color: white;
    box-shadow: 0 -4px 10px rgba(74, 128, 240, 0.2);
}

/* Cuerpo con Scroll */
.modal-body-scroll {
    padding: 30px;
    max-height: 60vh;
    overflow-y: auto;
    background: #F8FAFC;
}

/* TABLA DE COMPARACIÓN */
.alex-compare-table {
    width: 100%; border-collapse: separate; border-spacing: 0;
    background: white; border-radius: 12px;
    border: 1px solid #E2E8F0;
    overflow: hidden;
}

.alex-compare-table th {
    background: white; padding: 20px; text-align: center;
    border-bottom: 2px solid #E2E8F0; vertical-align: bottom;
}
.alex-compare-table th.feature-col { text-align: left; width: 30%; font-size: 0.9rem; color: #94A3B8; text-transform: uppercase; }
.alex-compare-table th.plan-col { width: 35%; }

.comp-logo { height: 40px; margin-bottom: 10px; mix-blend-mode: multiply; }
.comp-plan-name { font-weight: 800; color: var(--alex-ink); font-size: 1.1rem; }

.alex-compare-table td {
    padding: 15px 20px; border-bottom: 1px solid #F1F5F9;
    color: var(--alex-ink); font-size: 0.9rem; vertical-align: middle;
}
/* Columnas de datos centradas */
.alex-compare-table td:not(.label-cell) { text-align: center; border-left: 1px dashed #E2E8F0; }

.label-cell { font-weight: 600; color: #475569; }

/* Filas destacadas (Precios) */
.highlight-row { background: #F0F9FF; }
.highlight-row-sub { background: #F8FAFC; }
.price-cell { font-size: 1.4rem; font-weight: 900; color: var(--alex-ink); }
.price-cell-sm { font-size: 1.1rem; font-weight: 800; color: #64748B; }
.text-green { color: #10B981; }

/* Separador de Sección */
.section-divider td {
    background: #E2E8F0; color: #475569; font-weight: 800; 
    text-transform: uppercase; font-size: 0.8rem; padding: 10px 20px;
    letter-spacing: 1px;
}

/* Cajas de Limites */
.limit-box { 
    background: white; border: 1px solid #CBD5E1; border-radius: 6px; 
    padding: 5px 10px; display: inline-block; font-weight: 700;
}
.premium-sub { display: block; font-size: 0.75rem; color: #94A3B8; margin-top: 4px; }

.tag-pill {
    display: inline-block; background: #ECFDF5; color: #065F46;
    padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 700; margin: 2px;
}

/* Footer */
.modal-footer-compare {
    padding: 20px 30px; background: white; border-top: 1px solid #E2E8F0;
    display: flex; justify-content: flex-end; gap: 15px;
}

/* Responsive */
@media (max-width: 700px) {
    .alex-compare-table th, .alex-compare-table td { padding: 10px; font-size: 0.8rem; }
    .comp-logo { height: 30px; }
    .price-cell { font-size: 1.1rem; }
}

/* ==========================================================================
   14. STEP 3 SPECIFIC STYLES (Moved from HTML)
   Estilos específicos para la vista de comparación y el modal tipo "Sketchpad"
========================================================================== */

/* Ajuste del Modal para que parezca una hoja de papel */
.modal-wrapper.modal-sketchpad {
    border-radius: 25px 22px 28px 20px; /* Borde orgánico */
    border: 3px solid var(--alex-ink);
    box-shadow: 10px 10px 0 rgba(44, 62, 80, 0.2);
    padding: 0;
    overflow: hidden;
    background-image: radial-gradient(#E2E8F0 1px, transparent 1px);
    background-size: 20px 20px; /* Fondo de puntos sutil */
    background-color: #fff;
}

/* Header con Washi Tape */
.modal-header-sketch {
    background: white;
    padding: 30px 30px 10px 30px;
    border-bottom: 2px dashed var(--alex-ink);
    position: relative;
}
.modal-tape-deco {
    position: absolute; top: -15px; left: 50%; transform: translateX(-50%) rotate(1deg);
    width: 140px; height: 35px;
    background-color: rgba(95, 212, 244, 0.5); /* Cyan Tape */
    mask-image: url("data:image/svg+xml,%3Csvg width='200' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10 L5 0 L10 10 L15 0 L20 10 L25 0 L200 0 L200 60 L195 50 L190 60 L185 50 L0 60 Z' fill='black'/%3E%3C/svg%3E");
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='200' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10 L5 0 L10 10 L15 0 L20 10 L25 0 L200 0 L200 60 L195 50 L190 60 L185 50 L0 60 Z' fill='black'/%3E%3C/svg%3E");
    mask-size: 100% 100%;
    opacity: 0.9;
}

/* Tabs tipo Sticker dentro del modal */
.modal-tabs-stickers {
    display: flex; gap: 10px; justify-content: center; margin-top: 15px;
}
.m-sticker {
    padding: 8px 20px; border: 2px solid var(--alex-ink); border-radius: 20px 5px 20px 5px;
    font-weight: 800; font-size: 0.8rem; cursor: pointer; text-transform: uppercase;
    background: white; transition: 0.2s;
}
.m-sticker.active {
    background: var(--alex-blue-accent); color: white; border-color: var(--alex-blue-accent);
    transform: rotate(-2deg) scale(1.05); box-shadow: 3px 3px 0 rgba(0,0,0,0.1);
}
.m-sticker:not(.active):hover { background: #F1F5F9; }

/* Tabla Estilo Cuaderno */
.sketch-table { width: 100%; border-collapse: collapse; }
.sketch-table th { 
    text-align: center; padding: 20px; vertical-align: bottom; 
    border-bottom: 3px solid var(--alex-ink);
}
.sketch-table td {
    padding: 18px 20px; 
    border-bottom: 1px dashed #94A3B8; /* Línea de cuaderno */
    color: var(--alex-ink); vertical-align: middle; font-size: 0.95rem;
}
.sketch-table tr:last-child td { border-bottom: none; }

/* Columnas */
.col-feature { text-align: left; font-weight: 700; color: #64748B; width: 30%; }
.col-plan { text-align: center; width: 35%; border-left: 2px dashed #E2E8F0; }

/* Efecto Resaltador Amarillo en la Celda */
.highlight-cell-bg {
    position: relative; z-index: 1;
}
.highlight-cell-bg::before {
    content: ''; position: absolute; top: 10px; bottom: 10px; left: 10px; right: 10px;
    background: rgba(250, 204, 21, 0.25); /* Amarillo suave */
    z-index: -1; transform: rotate(-1deg); border-radius: 4px;
}

/* Footer del Modal */
.modal-footer-sketch {
    padding: 20px; background: white; border-top: 2px solid var(--alex-ink);
    display: flex; justify-content: flex-end; gap: 15px;
}

/* Botón Cerrar (Círculo rojo dibujado) */
.sketch-close-btn {
    position: absolute; top: 15px; right: 15px;
    width: 35px; height: 35px; border: 2px solid var(--alex-ink); border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    color: var(--alex-ink); cursor: pointer; transition: 0.2s; background: white;
}
.sketch-close-btn:hover { background: #EF4444; color: white; border-color: #EF4444; transform: rotate(90deg); }

/* Estilos de botones y badges específicos de Step 3 */
.sidebar-panel.organic-box { overflow: visible !important; position: relative; margin-top: 15px; }
.sidebar-badge-float { position: absolute; top: -18px; left: 20px; z-index: 50; background: var(--alex-blue-accent); color: white; font-weight: 800; font-size: 0.85rem; padding: 6px 18px; border-radius: 20px 6px 20px 6px; border: 4px solid #FFFFFF; box-shadow: 0 4px 6px rgba(44, 62, 80, 0.15); transform: rotate(-2deg); }
.carrier-logo-lg { width: 90px; height: auto; margin-bottom: 10px; mix-blend-mode: multiply; opacity: 0.9; filter: contrast(1.05); transition: all 0.3s ease; }
.quote-result-card:hover .carrier-logo-lg { transform: scale(1.05); opacity: 1; }

.btn-stack { width: 100%; margin-bottom: 12px; display: flex; align-items: center; justify-content: center; gap: 8px; }
.btn-purple { background-color: #8B5CF6; border: 2px solid #7C3AED; color: white; border-radius: 12px; font-weight: 700; padding: 12px; transition: 0.2s; }
.btn-purple:hover { background-color: #7C3AED; transform: translateY(-2px); }
.btn-blue-outline { background-color: white; border: 2px solid #3B82F6; color: #3B82F6; border-radius: 12px; font-weight: 700; padding: 12px; transition: 0.2s; }
.btn-blue-outline:hover { background-color: #EFF6FF; border-color: #2563EB; color: #2563EB; }
.btn-blue-main { background: linear-gradient(135deg, #009cff, #027ecb); border: none; color: white; border-radius: 12px; font-weight: 800; padding: 14px; box-shadow: 0 4px 10px rgba(16, 185, 129, 0.3); transition: 0.2s; }
.btn-blue-main:hover { transform: translateY(-2px); box-shadow: 0 6px 15px rgba(16, 185, 129, 0.4); }

/* 2. Cuando el mouse entra en la tarjeta, el marcador crece */
.quote-result-card:hover .highlighter-mark {
    width: 110%; /* Un poco más del 100% para cubrir todo el precio */
}

/* 3. Opcional: Si quieres que se quede marcado cuando está seleccionado */
.quote-result-card.is-selected .highlighter-mark {
    width: 110%;
    background: rgba(250, 204, 21, 0.7); /* Un poco más oscuro al seleccionar */
}

/* --- FONDO AMBIENTAL --- */
.ambient-glow {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    z-index: -1;
    opacity: 0.6;
    animation: float-vertical 10s infinite ease-in-out;
}
.glow-1 { top: -10%; left: -10%; width: 500px; height: 500px; background: rgba(74, 128, 240, 0.15); }
.glow-2 { bottom: 20%; right: -5%; width: 400px; height: 400px; background: rgba(95, 212, 244, 0.15); animation-delay: 2s; }
.glow-3 { top: 40%; left: 30%; width: 300px; height: 300px; background: rgba(250, 204, 21, 0.05); animation-delay: 4s; }

@keyframes float-vertical { 
    0%, 100% { transform: translateY(0); } 
    50% { transform: translateY(-20px); } 
}

/* --- BOTÓN GLOW ANIMADO --- */
.btn-glow-anim {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    background: linear-gradient(135deg, #4A80F0 0%, #3B66CC 100%);
    color: white;
    border: none;
    border-radius: 14px;
    font-weight: 800;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    box-shadow: 0 10px 20px rgba(74, 128, 240, 0.3);
    position: relative;
    overflow: hidden;
}
.btn-glow-anim:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 30px rgba(74, 128, 240, 0.4);
}
.btn-glow-anim i {
    transition: transform 0.3s;
}
.btn-glow-anim:hover i {
    transform: translateX(5px); /* Mueve la flechita */
}

/* --- ESTILO NOTA ADHESIVA (Taped Note) --- */
.taped-note {
    background: #FFFFFF;
    position: relative;
    transform: rotate(1deg); /* Ligera inclinación para realismo */
    margin: 40px 0;
    z-index: 1;
}

/* La cinta adhesiva (Washi Tape) */
.washi-tape-large {
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%) rotate(-1.5deg);
    width: 200px;
    height: 50px;
    background-color: rgba(95, 212, 244, 0.5); /* Color Cyan translúcido */
    opacity: 0.9;
    /* Recorte en zig-zag con CSS Mask */
    mask-image: url("data:image/svg+xml,%3Csvg width='200' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10 L5 0 L10 10 L15 0 L20 10 L25 0 L200 0 L200 60 L195 50 L190 60 L185 50 L0 60 Z' fill='black'/%3E%3C/svg%3E");
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='200' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10 L5 0 L10 10 L15 0 L20 10 L25 0 L200 0 L200 60 L195 50 L190 60 L185 50 L0 60 Z' fill='black'/%3E%3C/svg%3E");
}

/* Layout interno de la nota */
.alex-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 60px;
    align-items: center;
}
@media (max-width: 900px) {
    .alex-grid { grid-template-columns: 1fr; text-align: center; }
    .washi-tape-large { width: 150px; height: 40px; }
}

/* Listas con iconos */
.feature-list { list-style: none; padding: 0; margin-top: 20px; }
.feature-list li { margin-bottom: 15px; font-size: 1.1rem; color: var(--alex-ink); }
.feature-list i { color: var(--alex-blue-accent); margin-right: 10px; font-size: 1.2rem; }

/* --- TIPOGRAFÍA SKETCH --- */
.sketch-headline-sm {
    font-size: 2.5rem;
    font-weight: 900;
    color: var(--alex-ink);
    position: relative;
    display: inline-block;
    margin-bottom: 20px;
    letter-spacing: -1px;
}

.underline-sketch {
    width: 80px;
    height: 6px;
    background: rgba(95, 212, 244, 0.5); /* Subrayado Cyan */
    border-radius: 4px;
    margin: 5px auto 30px auto;
}

.btn-solid {
    background-color: var(--alex-blue-accent); color: white;
    border: 2px solid var(--alex-ink); box-shadow: var(--shadow-button);
}
.btn-solid:hover {
    transform: translate(-3px, -3px); box-shadow: 6px 6px 0px var(--alex-ink);
    background-color: #3a70e0;
}

/* ==========================================================================
   MOBILE PREMIUM OVERHAUL (Global & Specifics)
   Agrega esto al final de tu style.css
========================================================================== */

/* 1. AJUSTES GLOBALES DE TIPOGRAFÍA Y ESPACIADO */
@media (max-width: 768px) {
    :root {
        --section-spacing: 50px; /* Menos espacio entre secciones */
        --organic-radius: 18px;  /* Bordes un poco menos exagerados */
    }
    
    body { font-size: 16px; } /* Evita zoom automático en iOS en inputs */
    
    h1, .sketch-headline { font-size: 2.2rem !important; word-wrap: break-word; }
    h2, .sketch-headline-sm { font-size: 1.8rem !important; }
    h3 { font-size: 1.4rem !important; }
    
    .container { width: 92%; } /* Más ancho en móvil para aprovechar espacio */
    
    /* Botones ancho completo para fácil click con el pulgar */
    .btn, .btn-glow-anim, .btn-outline, .btn-blue-sketch {
        width: 100% !important;
        display: flex;
        justify-content: center;
        margin-bottom: 10px;
    }
}

/* 2. HEADER & NAV MÓVIL (Full Screen Experience) */
@media (max-width: 900px) {
    .site-header { padding: 15px 0; }
    .nav-logo { height: 60px; }
    
    /* El menú se convierte en una experiencia inmersiva */
    .site-header.nav-open .main-nav {
        background: rgba(255,255,255,0.98);
        padding-top: 80px;
        justify-content: flex-start;
        gap: 20px;
    }
    .main-nav ul { gap: 20px; width: 100%; text-align: center; }
    .main-nav a { font-size: 1.4rem; display: block; padding: 10px; border-bottom: 1px solid #f0f0f0; }
    
    /* Ocultar elementos desktop */
    .header-actions { display: none; } /* Se ocultan botones del header en menú cerrado */
    
    /* Mostrar botones dentro del menú móvil si es necesario (requiere JS para moverlos o duplicarlos en HTML) */
}

/* 3. HOME (Index) MÓVIL */
@media (max-width: 768px) {
    .hero-grid {
        grid-template-columns: 1fr;
        text-align: center;
        min-height: auto;
        padding-top: 30px;
        gap: 30px;
    }
    
    /* Video primero o segundo según preferencia. Aquí lo ponemos segundo. */
    .hero-video-organic { order: -1; width: 100%; margin-bottom: 20px; }
    
    .hero-subtitle { font-size: 1.1rem; margin-bottom: 20px; }
    
    /* Cards de productos en 1 columna */
    .products-grid { grid-template-columns: 1fr; gap: 20px; }
    
    /* Carrusel de Carriers */
    .slider-track { gap: 20px; }
    .carrier-item { width: 100px; height: 60px; }
    .carrier-item img { max-height: 40px; }
    
    /* Why Us / Alex Spotlight */
    .alex-grid { display: flex; flex-direction: column-reverse; gap: 30px; }
    .alex-image-container { width: 80%; margin: 0 auto; }
    
    /* Footer Stacked */
    .footer-grid { grid-template-columns: 1fr; text-align: center; gap: 30px; }
    .footer-col { border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 20px; }
    .copyright-row { flex-direction: column-reverse; gap: 15px; }
}

/* 4. COTIZADOR (Quote 1 & 2) MÓVIL */
@media (max-width: 900px) {
    .step-grid-container { display: flex; flex-direction: column; }
    
    /* Sidebar se mueve al fondo o se oculta */
    .sidebar-col { 
        order: -1; /* Poner resumen arriba (opcional) o abajo */
        margin-bottom: 20px;
    }
    /* Transformar el Sidebar en una barra colapsable o simplificada */
    .sidebar-note { 
        padding: 15px; 
        background: #FEF9C3; /* Amarillo suave para destacar */
        transform: none; 
        border: 1px solid #FCD34D;
    }
    .progress-list-sketch { display: none; } /* Ocultar lista larga en móvil */
    .sidebar-price-preview { 
        border: none; margin: 0; padding: 0; 
        display: flex; justify-content: space-between; align-items: center; 
    }
    .sidebar-price-preview .label { font-size: 0.9rem; margin-bottom: 0; }
    .sidebar-price-preview .price { font-size: 1.5rem; }
    
    /* Formularios */
    .form-row, .form-row-3, .form-row-2 { flex-direction: column; gap: 15px; }
    .quote-card-stacked { padding: 25px 20px; }
    
    /* Grilla de Coberturas (Quote 2) */
    .visual-coverage-grid { grid-template-columns: 1fr; }
    .full-width-tile { grid-column: span 1; }
    
    /* Botones de acción flotantes (Sticky Bottom) */
    /* Esto da una sensación muy de "App" */
    .form-action-row, .form-action {
        flex-direction: column-reverse; /* Cancelar abajo, Continuar arriba */
    }
}

/* 5. VISTA DE COMPARACIÓN (Quote 3) - EL RETO MAYOR */
@media (max-width: 1024px) {
    .compare-grid-layout {
        grid-template-columns: 1fr; /* Todo en una columna */
        gap: 20px;
    }
    
    /* Sidebar de Filtros: OCULTO POR DEFECTO */
    .filters-col {
        display: none; /* Se activará con JS */
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(255,255,255,0.98);
        z-index: 1000;
        overflow-y: auto;
        padding: 80px 20px 20px 20px;
    }
    .filters-col.is-visible { display: block; animation: slideInRight 0.3s ease; }
    
    /* Botón flotante para abrir filtros */
    .mobile-filter-btn {
        display: flex !important; /* Forzar display */
        position: fixed;
        bottom: 20px; left: 50%; transform: translateX(-50%);
        background: var(--alex-ink); color: white;
        padding: 12px 30px; border-radius: 30px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        z-index: 900; font-weight: 800; align-items: center; gap: 10px;
        border: 2px solid white;
    }
    
    /* Tarjetas de Resultados */
    .result-content-modern {
        grid-template-columns: 1fr; /* Stack vertical */
        text-align: center;
        gap: 15px;
    }
    .details-col { 
        border: none; border-top: 1px dashed #E2E8F0; border-bottom: 1px dashed #E2E8F0; 
        padding: 15px 0; margin: 10px 0;
    }
    .tags-container { justify-content: center; }
    .carrier-col { display: flex; align-items: center; justify-content: space-between; width: 100%; }
    .carrier-logo-lg { width: 60px; margin: 0; }
    
    /* Sticky Summary en Quote 3 */
    .actions-col { display: none; } /* Ocultar resumen lateral en Quote 3 móvil para ganar espacio */
}

@keyframes slideInRight { from { transform: translateX(100%); } to { transform: translateX(0); } }

/* 6. MODAL (Tablas) en MÓVIL */
@media (max-width: 700px) {
    .modal-wrapper { padding: 20px; width: 95%; }
    .modal-header-compare { padding: 15px; }
    
    /* Hacer la tabla scrolleable horizontalmente */
    .modal-body-scroll { padding: 10px; }
    .alex-compare-table { min-width: 500px; } /* Forzar ancho para activar scroll */
    
    .modal-vehicle-tabs { flex-wrap: nowrap; overflow-x: auto; padding-bottom: 5px; }
    .mv-tab { white-space: nowrap; }
}

/* UTILIDAD: Botón de Filtro Móvil (Oculto en desktop) */
.mobile-filter-btn { display: none; }

/* --- BARRA DE ACCIÓN MÓVIL (Premium Mobile) --- */
.mobile-action-bar {
    display: none; /* Oculto en desktop */
    position: fixed; bottom: 0; left: 0; width: 100%;
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(10px);
    border-top: 1px solid #E2E8F0;
    padding: 15px 20px; z-index: 990;
    box-shadow: 0 -4px 20px rgba(0,0,0,0.08);
    justify-content: space-between; align-items: center;
    gap: 20px;
}

.ms-price-container { display: flex; flex-direction: column; }
.ms-label { font-size: 0.75rem; color: #94A3B8; font-weight: 700; text-transform: uppercase; }
.ms-price { font-size: 1.6rem; font-weight: 900; color: var(--alex-ink); line-height: 1; transition: color 0.3s; }
.ms-price-container.has-value .ms-price { color: #10B981; }

.ms-next-btn {
    width: auto !important; /* Override global width */
    margin: 0 !important;
    padding: 14px 30px;
    box-shadow: 0 5px 15px rgba(74, 128, 240, 0.3);
}

/* Ajustes Responsive */
@media (max-width: 1024px) {
    .mobile-action-bar { display: flex; }
    /* Subir el botón de filtros para que no tape la barra */
    .mobile-filter-btn { bottom: 95px; } 
    /* Dar espacio al contenido para que no quede tapado por la barra */
    .compare-grid-layout { padding-bottom: 100px; }
}

.results-col {
    /* Esto previene que el contenido expanda el grid y rompa el diseño */
    min-width: 0; 
    display: flex;
    flex-direction: column;
}

@media (min-width: 1025px) {
    .mobile-only-btn {
        display: none !important;
    }
}

.sketch-close-btn.mobile-only-btn {
    width: 40px; 
    height: 40px; 
    background: #EF4444; 
    color: white; 
    border: none;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

/* =========================================================
   CORRECCIÓN CRÍTICA: FILTROS MÓVILES (DRAWER)
   Agrega esto al final de tu style.css para arreglar el menú fantasma
   ========================================================= */

@media (max-width: 1024px) {
    /* 1. Aseguramos que el contenedor de filtros sea un cajón fijo */
    .filters-col {
        display: none; /* Oculto por defecto para que no estorbe */
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 9999 !important; /* Capa superior a todo */
        background: rgba(255, 255, 255, 0.98); /* Fondo blanco casi opaco */
        backdrop-filter: blur(10px);
        padding: 80px 20px 100px 20px; /* Espacio para no tapar el header/footer */
        overflow-y: auto; /* Permitir scroll dentro del menú */
    }

    /* 2. Clase activa: Forzamos su aparición */
    .filters-col.is-visible {
        display: block !important; /* SOBRESCRIBE cualquier display:none anterior */
        animation: slideInFromLeft 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    /* 3. Asegurar que el botón de cerrar (X) sea visible y clickable */
    .sketch-close-btn.mobile-only-btn {
        display: flex !important;
        position: absolute;
        top: 25px;
        right: 25px;
        z-index: 10000; /* Encima del panel */
        background: #EF4444; /* Rojo para destacar */
        color: white;
        border: none;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
}

/* Animación suave de entrada desde la izquierda */
@keyframes slideInFromLeft {
    from { opacity: 0; transform: translateX(-10%); }
    to { opacity: 1; transform: translateX(0); }
}

/* =========================================================
   MEJORA DEL MODAL DE COMPARACIÓN (TABLA ROBUSTA)
   ========================================================= */

/* Estilo para los separadores de sección en la tabla */
.section-row td {
    background-color: #F1F5F9;
    color: var(--alex-ink-light);
    font-size: 0.8rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 1px;
    padding: 12px 20px;
    text-align: center;
    border-top: 2px solid #E2E8F0;
    border-bottom: 2px solid #E2E8F0;
}

/* Pill tags para los deducibles (hace que resalten) */
.tag-pill {
    display: inline-block;
    background: #E0F2FE;
    color: #0369A1;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 0.85rem;
    font-weight: 700;
    border: 1px solid #BAE6FD;
}

/* Iconos de ayuda visual */
.text-muted { color: #94A3B8; font-size: 0.9em; margin-left: 5px; cursor: help; }
.text-red { color: #EF4444; }

/* FIX PARA MÓVIL: Scroll Horizontal Obligatorio */
.modal-body-scroll {
    overflow-x: auto; /* Permite deslizar si la tabla es ancha */
    -webkit-overflow-scrolling: touch;
    background-color: white; /* Asegura fondo blanco */
}

.compare-detailed-table {
    min-width: 600px; /* IMPORTANTE: Fuerza el ancho para activar scroll en móvil */
}

/* Ajustes de celdas */
.col-feature {
    width: 35%;
    font-size: 0.9rem;
    border-right: 1px dashed #E2E8F0;
}
.col-plan {
    width: 32.5%;
    text-align: center;
    font-size: 0.95rem;
}

/* =========================================================
   ESTILOS DE LA SECCIÓN APP Y BOTONES DE DESCARGA
   ========================================================= */

/* Botones de Tienda (iOS / Android) estilo Sketch */
.btn-app-store {
    display: flex;
    align-items: center;
    gap: 12px;
    background-color: #514690;
    color: white !important;
    padding: 10px 24px;
    border-radius: 14px;
    text-align: left;
    border: 2px solid var(--alex-ink);
    text-decoration: none;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    box-shadow: 4px 4px 0 rgba(74, 128, 240, 0.3); /* Sombra Azul */
    min-width: 180px;
}

/* Efecto Hover */
.btn-app-store:hover {
    transform: translateY(-4px) rotate(-1deg); /* Ligera rotación orgánica */
    box-shadow: 8px 8px 0 var(--alex-blue-accent); /* Sombra crece y cambia de color */
    background-color: #009cff; /* Un tono ligeramente más claro */
}

/* Icono dentro del botón */
.btn-app-store i {
    font-size: 2.2rem;
}

/* Textos del botón */
.btn-app-store .small-txt {
    display: block;
    font-size: 0.65rem;
    font-weight: 500;
    text-transform: uppercase;
    opacity: 0.8;
    line-height: 1.2;
    letter-spacing: 0.5px;
}

.btn-app-store .big-txt {
    display: block;
    font-size: 1.1rem;
    font-weight: 800;
    line-height: 1;
    font-family: var(--font-main);
}

/* Ajuste Responsive para móviles */
@media (max-width: 600px) {
    .app-buttons-row {
        flex-direction: column;
        width: 100%;
    }
    .btn-app-store {
        width: 100%;
        justify-content: center;
    }
}

/* --- ESTILOS EXTRA PARA COTIZADOR HOGAR --- */

/* Etiqueta roja para campos obligatorios */
.req { color: #EF4444; font-weight: 900; margin-left: 3px; }

/* Subtítulos pequeños (usados en Valuables) */
.s-label { font-size: 0.75rem; color: #64748B; font-weight: 700; display: block; margin-bottom: 4px; }
.mb-10 { margin-bottom: 10px; }

/* Estilo para los Botones Grandes de Radio (Primary/Secondary, House/Condo) */
.radio-tile-group { display: flex; gap: 15px; width: 100%; }
.radio-tile-label { flex: 1; cursor: pointer; position: relative; min-width: 0; }
.radio-tile-label input { display: none; }
.radio-tile-content {
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    padding: 15px 10px; border: 2px solid #E2E8F0; border-radius: 12px; background: #F8FAFC;
    transition: all 0.2s ease; text-align: center; height: 100%; min-height: 80px;
}
.radio-tile-content i { font-size: 1.5rem; margin-bottom: 8px; color: #94A3B8; }
.radio-tile-content span { font-weight: 700; font-size: 0.9rem; color: var(--alex-ink); }

/* Estado seleccionado del Radio Button */
.radio-tile-label input:checked + .radio-tile-content {
    border-color: var(--alex-blue-accent); background: #EFF6FF;
    box-shadow: 0 4px 10px rgba(74, 128, 240, 0.15); transform: translateY(-2px);
}
.radio-tile-label input:checked + .radio-tile-content i { color: var(--alex-blue-accent); }

/* Tarjetas rojas para las Pérdidas (Loss History) */
.loss-entry-card {
    background: #FEF2F2; border: 1px dashed #FDA4AF; border-radius: 12px;
    padding: 20px; margin-top: 20px; position: relative;
    animation: slideUpFade 0.3s ease-out;
}
.loss-title { font-size: 0.9rem; font-weight: 800; color: #BE123C; margin-bottom: 15px; text-transform: uppercase; }

/* Responsive para los botones grandes */
@media (max-width: 600px) {
    .radio-tile-group { flex-direction: column; gap: 10px; }
    .radio-tile-content { flex-direction: row; justify-content: flex-start; gap: 15px; padding: 15px; min-height: auto; }
    .radio-tile-content i { margin-bottom: 0; }
}

/* --- LÓGICA VISUAL DEL WIZARD (OBLIGATORIO) --- */
.form-tab-panel { 
    display: none; /* Oculta todos los pasos por defecto */
    animation: slideUpFade 0.4s ease-out; 
}

.form-tab-panel.active { 
    display: block; /* Muestra SOLO el paso actual */
}

/* Estilos de validación */
.shake-anim { animation: shake 0.5s; }
@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  50% { transform: translateX(5px); }
  75% { transform: translateX(-5px); }
  100% { transform: translateX(0); }
}

/* =========================================================
   MEJORAS VISUALES (MODAL & UPLOAD)
   ========================================================= */

/* --- 1. Estilo para el Input de Archivo (PDF Upload) --- */
.file-upload-box {
    border: 2px dashed #CBD5E1; 
    border-radius: 16px; 
    padding: 40px 20px; 
    text-align: center;
    background: #F8FAFC; 
    cursor: pointer; 
    position: relative; 
    margin-top: 20px; 
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.file-upload-box:hover { 
    border-color: var(--alex-blue-accent); 
    background: #EFF6FF; 
    transform: translateY(-2px);
}

.file-upload-input {
    position: absolute; 
    top: 0; left: 0; 
    width: 100%; height: 100%; 
    opacity: 0; 
    cursor: pointer;
    z-index: 5;
}

/* --- 2. Estilo del Modal de Éxito (Pop-up bonito) --- */
.custom-modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(44, 62, 80, 0.6); /* Fondo oscuro semitransparente */
    backdrop-filter: blur(5px);
    z-index: 9999;
    display: none; /* Oculto por defecto */
    align-items: center; justify-content: center;
    opacity: 0; transition: opacity 0.3s ease;
}

.custom-modal-overlay.is-open {
    display: flex; opacity: 1;
}

.custom-modal-content {
    background: white;
    width: 90%; max-width: 450px;
    padding: 40px;
    border-radius: 24px;
    border: 3px solid var(--alex-ink); /* Borde estilo Sketch */
    box-shadow: 10px 10px 0 rgba(74, 128, 240, 0.2); /* Sombra sólida */
    text-align: center;
    transform: scale(0.9); transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    position: relative;
}

.custom-modal-overlay.is-open .custom-modal-content {
    transform: scale(1);
}

.modal-icon-circle {
    width: 80px; height: 80px;
    background: #DCFCE7; /* Verde claro */
    color: #10B981; /* Verde fuerte */
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 2.5rem; margin: 0 auto 20px;
    border: 2px solid var(--alex-ink);
}

/* =========================================================
   ESTILOS DE CALENDARIO (FLATPICKR CUSTOM)
   ========================================================= */

/* Fondo y bordes del calendario */
.flatpickr-calendar {
    border-radius: 16px !important;
    box-shadow: 0 10px 30px rgba(44, 62, 80, 0.15) !important;
    border: 2px solid var(--alex-ink) !important;
    font-family: var(--font-main) !important;
    padding: 10px !important;
}

/* Cabecera (Mes y Año) */
.flatpickr-month {
    background: transparent !important;
    color: var(--alex-ink) !important;
    fill: var(--alex-ink) !important;
    margin-bottom: 10px;
}
.flatpickr-current-month .flatpickr-monthDropdown-months {
    font-weight: 800 !important;
}

/* Días de la semana */
span.flatpickr-weekday {
    color: #94A3B8 !important;
    font-weight: 700 !important;
}

/* Días del mes (Normal) */
.flatpickr-day {
    border-radius: 8px !important;
    font-weight: 600 !important;
    color: var(--alex-ink) !important;
    border: 1px solid transparent !important;
}

/* Día Seleccionado (Azul Alex) */
.flatpickr-day.selected, 
.flatpickr-day.startRange, 
.flatpickr-day.endRange, 
.flatpickr-day.selected.inRange, 
.flatpickr-day.startRange.inRange, 
.flatpickr-day.endRange.inRange, 
.flatpickr-day.selected:focus, 
.flatpickr-day.startRange:focus, 
.flatpickr-day.endRange:focus, 
.flatpickr-day.selected:hover, 
.flatpickr-day.startRange:hover, 
.flatpickr-day.endRange:hover, 
.flatpickr-day.selected.prevMonthDay, 
.flatpickr-day.startRange.prevMonthDay, 
.flatpickr-day.endRange.prevMonthDay, 
.flatpickr-day.selected.nextMonthDay, 
.flatpickr-day.startRange.nextMonthDay, 
.flatpickr-day.endRange.nextMonthDay {
    background: var(--alex-blue-accent) !important;
    border-color: var(--alex-blue-accent) !important;
    color: white !important;
    box-shadow: 0 4px 10px rgba(74, 128, 240, 0.3);
}

/* Hover en días */
.flatpickr-day:hover {
    background: #EFF6FF !important;
    border-color: #BFDBFE !important;
}

/* Utilidad para ocultar campos dinámicos */
.hidden {
    display: none !important;
}

/* --- AMBASSADOR SPECIFIC --- */
.ambassador-main-card { max-width: 850px; margin: 0 auto; }

.form-step-panel { display: none; animation: slideUpFade 0.4s ease-out; }
.form-step-panel.active { display: block; }

.payment-setup-box {
    background: #F0F9FF; border: 2px solid #BAE6FD; border-radius: 16px;
    padding: 30px; text-align: center; margin: 20px 0;
}

.info-highlight-box {
    background: #F8FAFC; border-radius: 12px; padding: 25px; margin-bottom: 30px;
}
.info-highlight-box ul li { list-style: none; margin-bottom: 10px; font-weight: 700; color: var(--alex-ink); }

.quiz-card { background: #FFFFFF; border: 2px solid #E2E8F0; border-radius: 12px; padding: 20px; margin-bottom: 20px; }
.quiz-question { font-weight: 800; color: var(--alex-ink); margin-bottom: 15px; }
.quiz-opt { display: block; padding: 10px; border-radius: 8px; cursor: pointer; transition: 0.2s; }
.quiz-opt:hover { background: #EFF6FF; }

.success-celebration .icon-wrap { font-size: 4rem; color: #EAB308; margin-bottom: 20px; }

