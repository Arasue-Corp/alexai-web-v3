/* ==========================================================================
   ALEX AI INSURTECH - STYLE ("Organic Blue Sketchbook")
========================================================================== */

/* =============================================
   1. VARIABLES & SETUP (BLUE PALETTE)
============================================= */
:root {
    /* --- PALETTE: VIBRANT BLUE & TECH INK --- */
    --alex-blue-accent: #4A80F0;  /* The new "azulito" */
    --alex-blue-light: #5FD4F4;   /* Lighter cyan */
    --alex-ink: #2C3E50;          /* Deep slate blue ink */
    --alex-ink-light: #64748B;    /* Cooler grey */
    
    /* --- BACKGROUNDS --- */
    --bg-white: #FFFFFF;
    --bg-off-white: #F8FAFC;      /* Very subtle cool grey/blue tint */
    
    /* --- ORGANIC VARIABLES --- */
    --organic-radius: 25px 20px 28px 22px; 
    --sketch-border: 2px solid var(--alex-ink);
    
    /* Shadows */
    --shadow-sketch-rest: 4px 4px 0px rgba(44, 62, 80, 0.1);
    --shadow-sketch-hover: 6px 6px 0px rgba(74, 128, 240, 0.25);
    --shadow-button: 3px 3px 0px var(--alex-ink);
    
    --font-main: 'Inter', sans-serif;
    --section-spacing: 100px;
}

/* =============================================
   2. RESET & BASE STYLES
============================================= */
* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
    font-family: var(--font-main); background-color: var(--bg-white);
    color: var(--alex-ink-light); line-height: 1.6; font-size: 18px; overflow-x: hidden;
}
h1, h2, h3, h4, h5 { color: var(--alex-ink); font-weight: 900; line-height: 1.1; letter-spacing: -0.5px; }
h1 { font-size: 4rem; letter-spacing: -1.5px; }
h2 { font-size: 3rem; margin-bottom: 1rem; }
h3 { font-size: 1.6rem; margin-bottom: 1rem; }
p { margin-bottom: 1.5rem; font-weight: 500; }
a { text-decoration: none; color: inherit; transition: all 0.3s ease; }
ul { list-style: none; }
img { max-width: 100%; height: auto; }

/* Utility Classes */
.container { width: 90%; max-width: 1200px; margin: 0 auto; }
.section-padding { padding: var(--section-spacing) 0; }
.text-center { text-align: center; }
.bg-off-white { background-color: var(--bg-off-white); }
.grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; }
.grid-2-uneven { display: grid; grid-template-columns: 1.5fr 1fr; gap: 60px; }
.align-center { align-items: center; }

/* =============================================
   3. UI COMPONENTS
============================================= */
.btn {
    display: inline-block; padding: 14px 36px; font-weight: 800;
    text-align: center; cursor: pointer; letter-spacing: 0.5px;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); position: relative;
    border-radius: var(--organic-radius);
}
.btn-sm { padding: 10px 24px; font-size: 0.95rem; }
.btn-large { padding: 20px 50px; font-size: 1.2rem; }

.btn-solid {
    background-color: var(--alex-blue-accent); color: white;
    border: 2px solid var(--alex-ink); box-shadow: var(--shadow-button);
}
.btn-solid:hover {
    transform: translate(-3px, -3px); box-shadow: 6px 6px 0px var(--alex-ink);
    background-color: #3a70e0;
}

.btn-outline {
    background-color: transparent; color: var(--alex-ink);
    border: 2px solid var(--alex-ink);
}
.btn-outline:hover {
    background-color: var(--bg-off-white);
    box-shadow: var(--shadow-button); transform: translate(-3px, -3px);
    color: var(--alex-blue-accent); border-color: var(--alex-blue-accent);
}

.organic-box {
    background: var(--bg-white); border-radius: var(--organic-radius);
    border: var(--sketch-border); box-shadow: var(--shadow-sketch-rest);
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.organic-box:hover {
    transform: translate(-3px, -3px); box-shadow: var(--shadow-sketch-hover);
    border-color: var(--alex-blue-accent);
}

/* =============================================
   4. HEADER & NAVIGATION
============================================= */
.top-header { padding: 10px 0; font-size: 0.9rem; font-weight: 700; background-color: var(--alex-blue-accent); color: white; }
.top-header-flex { display: flex; justify-content: space-between; }
.top-contact a, .top-contact span { margin-right: 20px; opacity: 0.9; color: white;}
.top-contact a:hover { opacity: 1; text-decoration: underline;}
.top-social a { margin-left: 15px; opacity: 0.9; color: white;}
.site-header { 
    padding: 20px 0; background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); 
    position: sticky; top: 0; z-index: 100; border-bottom: 2px solid rgba(44, 62, 80, 0.1); 
    transition: all 0.3s ease;
}
.header-wrapper { display: flex; justify-content: space-between; align-items: center; }
.main-nav ul { display: flex; gap: 30px; align-items: center; margin: 0; }
.main-nav > ul > li > a { font-weight: 800; font-size: 16px; color: var(--alex-ink); position: relative; padding: 5px 0;}
.main-nav > ul > li > a:hover { color: var(--alex-blue-accent); text-decoration: underline; text-decoration-style: wavy; text-underline-offset: 4px; text-decoration-color: var(--alex-blue-accent);}
.has-dropdown { position: relative; }
.dropdown-icon { font-size: 0.8rem; margin-left: 5px; transition: transform 0.3s; }
.has-dropdown:hover .dropdown-icon { transform: rotate(180deg); color: var(--alex-blue-accent); }
.dropdown-menu {
    position: absolute; top: 100%; left: 0; min-width: 220px;
    padding: 15px; opacity: 0; visibility: hidden; transform: translateY(10px);
    transition: all 0.3s ease; z-index: 110; display: flex; flex-direction: column; gap: 10px;
}
.has-dropdown:hover .dropdown-menu { opacity: 1; visibility: visible; transform: translateY(0); }
.dropdown-menu a { display: block; padding: 10px 15px; font-weight: 700; color: var(--alex-ink); border-radius: 12px; transition: all 0.2s; }
.dropdown-menu a:hover { background: var(--bg-off-white); color: var(--alex-blue-accent); }
.header-actions { display: flex; gap: 15px; align-items: center; }
.mobile-menu-toggle { display: none; font-size: 1.8rem; background: none; border: none; color: var(--alex-ink); cursor: pointer;}

/* =============================================
   5. PAGE SECTIONS
============================================= */
#hero-split { background-color: var(--bg-white); }
.hero-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center; min-height: 75vh; }
.hero-subtitle { font-size: 1.5rem; max-width: 520px; color: var(--alex-ink-light); }
.hero-video-organic {
    padding: 0; line-height: 0; width: 110%; margin: 0 auto;
    border-radius: var(--organic-radius); overflow: hidden;
}
.hero-video-organic.is-playing { animation: float-vertical 8s ease-in-out infinite; }
.hero-video-organic video { width: 100%; height: auto; max-height: 600px; object-fit: cover; display: block; }

/* Trust Bar & Carriers */
.trust-bar { padding: 60px 0 80px; }
.carriers-paper {
    background-color: var(--bg-white); padding: 40px 30px; max-width: 1000px; margin: 0 auto;
    box-shadow: var(--shadow-sketch-rest);
}
.carriers-paper:hover { transform: translateY(-3px); box-shadow: var(--shadow-sketch-hover); border-color: var(--alex-blue-accent); }
.sketch-label {
    color: var(--alex-blue-accent); font-weight: 900; text-transform: uppercase;
    letter-spacing: 2px; font-size: 1rem; margin-bottom: 35px; display: inline-block; position: relative;
}
.sketch-label::after {
    content: ''; display: block; width: 60%; height: 3px; background-color: var(--alex-blue-accent);
    margin: 8px auto 0 auto; border-radius: 5px; opacity: 0.5;
    mask-image: url("data:image/svg+xml,%3Csvg width='100' height='5' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 2.5Q25 0 50 2.5T100 2.5' stroke='black' fill='none' stroke-width='3'/%3E%3C/svg%3E");
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='100' height='5' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 2.5Q25 0 50 2.5T100 2.5' stroke='black' fill='none' stroke-width='3'/%3E%3C/svg%3E");
}

/* Carrier Slider */
.slider-container {
    width: 100%; overflow: hidden; padding: 20px 0; position: relative;
    mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
    -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
}
.slider-track { display: flex; width: max-content; gap: 40px; animation: scroll-left 30s linear infinite; }
.slider-track:hover { animation-play-state: paused; }
@keyframes scroll-left { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
.carrier-item {
    width: 150px; height: 90px; display: flex; align-items: center; justify-content: center;
    padding: 10px; border-radius: 12px; transition: all 0.3s ease; background-color: transparent;
    cursor: default; flex-shrink: 0;
}
.carrier-item img {
    max-width: 100%; max-height: 55px; width: auto; display: block; object-fit: contain;
    filter: grayscale(100%) opacity(0.6); transition: all 0.4s ease;
}
.carrier-item:hover { background-color: #F8FAFC; transform: translateY(-5px) scale(1.05); box-shadow: 0 8px 16px rgba(44, 62, 80, 0.1); }
.carrier-item:hover img { filter: grayscale(0%) opacity(1); }

/* Products */
.section-header { max-width: 700px; margin: 0 auto 60px auto; }
.products-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; }
.product-card { padding: 50px 30px; text-align: center; }
.card-illustration img {
    height: 150px; width: auto; margin-bottom: 30px;
    filter: drop-shadow(4px 4px 0px rgba(44, 62, 80, 0.1));
    animation: float-vertical 6s ease-in-out infinite;
}
.product-card:hover .card-illustration img { transform: scale(1.05) rotate(3deg); filter: drop-shadow(5px 5px 0px rgba(74, 128, 240, 0.3)); }

/* Alex Highlights & Quote Examples */
.alex-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 80px; align-items: center; }
.lead-text { font-size: 1.3rem; font-weight: 700; color: var(--alex-blue-accent); }
.feature-list { margin-top: 30px; }
.feature-list li { margin-bottom: 15px; font-weight: 600; font-size: 1.1rem;}
.feature-list i { color: var(--alex-blue-accent); margin-right: 10px; }
.alex-image-container img { width: 100%; filter: drop-shadow(8px 8px 0px rgba(44, 62, 80, 0.1)); animation: float-vertical 9s ease-in-out infinite; }

.quote-example-card { padding: 30px; position: relative; }
.popular-choice { border-color: var(--alex-blue-accent); border-width: 3px; }
.popular-tag-sketch {
    position: absolute; top: -15px; right: 20px; background: var(--alex-blue-accent); color: white;
    padding: 8px 18px; border-radius: 30px 20px 30px 20px; font-weight: 800; font-size: 0.85rem;
    border: 2px solid var(--alex-ink); box-shadow: 3px 3px 0px var(--alex-ink); transform: rotate(2deg);
}
.quote-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.quote-header h4 { margin: 0; font-size: 1.2rem; }
.badge-sketch { 
    background: var(--bg-off-white); padding: 6px 14px; border-radius: 20px 15px 20px 15px; 
    font-size: 0.85rem; font-weight: 700; color: var(--alex-ink); border: 2px solid var(--alex-ink); 
}
.quote-price { font-size: 3rem; font-weight: 900; color: var(--alex-ink); line-height: 1; }
.quote-price .currency { font-size: 1.5rem; vertical-align: super; }
.quote-price .period { font-size: 1rem; color: var(--alex-ink-light); font-weight: 700; }
.saved-text { color: #10B981; font-weight: 800; margin: 10px 0 20px; display: flex; align-items: center; gap: 8px;}
.quote-details { border-top: 2px dashed rgba(44, 62, 80, 0.2); padding-top: 20px; }
.quote-details li { margin-bottom: 8px; font-size: 1rem; font-weight: 600; color: var(--alex-ink-light); }
.subtle-disclaimer { margin-top: 40px; font-size: 0.9rem; opacity: 0.8; }

/* App & Blog */
.app-badges { display: flex; gap: 20px; margin-top: 30px; }
.app-badge img { height: 55px; transition: transform 0.3s; border-radius: 10px; border: 2px solid var(--alex-ink); }
.app-badge:hover img { transform: translateY(-5px) rotate(-2deg); box-shadow: 3px 3px 0px var(--alex-ink); }
.floating-illo { animation: float-vertical 7s ease-in-out infinite; filter: drop-shadow(8px 8px 0px rgba(44, 62, 80, 0.1)); }

.blog-card { padding: 0; overflow: hidden; height: 100%; display: flex; flex-direction: column;}
.blog-img img { width: 100%; height: 220px; object-fit: cover; border-bottom: var(--sketch-border); }
.blog-content { padding: 25px; flex-grow: 1; display: flex; flex-direction: column; }
.blog-cat { text-transform: uppercase; font-size: 0.8rem; font-weight: 900; color: var(--alex-blue-accent); letter-spacing: 1px; }
.blog-content h4 { margin: 10px 0 auto; font-size: 1.3rem; }
.read-more { margin-top: 20px; font-weight: 800; color: var(--alex-ink); display: flex; align-items: center; gap: 10px; }
.read-more:hover { gap: 15px; color: var(--alex-blue-accent); }

/* Reviews & FAQ */
.review-card { padding: 30px; }
.stars { margin-bottom: 20px; color: var(--alex-blue-accent); }
.review-card p { font-size: 1.15rem; font-style: italic; font-weight: 600; }
.reviewer { display: flex; align-items: center; gap: 15px; margin-top: 25px; }
.avatar-sketch { border-radius: 40% 60% 50% 40% / 50% 40% 60% 50%; border: 2px solid var(--alex-ink); }
.reviewer span { font-weight: 800; }

.faq-accordion.organic-box { padding: 0; overflow: hidden; }
.faq-item { border-bottom: var(--sketch-border); }
.faq-item:last-child { border-bottom: none; }
.faq-question {
    width: 100%; text-align: left; padding: 25px; background: none; border: none;
    font-size: 1.2rem; font-weight: 800; color: var(--alex-ink);
    display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: all 0.3s;
}
.faq-question:hover { color: var(--alex-blue-accent); background: var(--bg-white); }
.faq-question i { transition: transform 0.3s; color: var(--alex-ink); }
.faq-answer { max-height: 0; overflow: hidden; padding: 0 25px; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
.faq-answer p { padding-bottom: 25px; color: var(--alex-ink-light); font-weight: 600;}
.faq-item.active .faq-question i { transform: rotate(45deg); color: var(--alex-blue-accent); }
.faq-item.active .faq-answer { max-height: 300px; }

/* Footer */
.site-footer { background-color: var(--alex-ink); color: var(--bg-off-white); padding: 80px 0 40px; text-align: center;}
.footer-grid { display: grid; grid-template-columns: 2fr 1fr 1fr 1.5fr; gap: 40px; margin-bottom: 60px; text-align: left;}
.footer-col h5 { color: white; margin-bottom: 25px; font-size: 1.1rem; }
.footer-links li { margin-bottom: 12px; }
.footer-links a, .contact-links li { color: rgba(255,255,255, 0.7); font-weight: 600; font-size: 0.95rem; transition: all 0.2s; }
.footer-links a:hover { color: var(--alex-blue-accent); padding-left: 5px; }
.contact-links i { margin-right: 10px; color: var(--alex-blue-light); }
.copyright-row { 
    border-top: 2px solid rgba(255,255,255, 0.1); padding-top: 30px;
    display: flex; justify-content: space-between; align-items: center; 
    color: rgba(255,255,255, 0.6); font-size: 0.9rem; font-weight: 600;
}
.social-links a { margin-left: 20px; font-size: 1.5rem; color: rgba(255,255,255, 0.6); }
.social-links a:hover { color: var(--alex-blue-light); transform: translateY(-3px); }

/* =============================================
   6. FLOATING ELEMENTS
============================================= */
.floating-menu-btn, .chat-avatar-btn {
    width: 65px; height: 65px; 
    border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
    font-size: 28px; cursor: pointer; display: flex; align-items: center; justify-content: center;
    border: 2px solid var(--alex-ink); box-shadow: var(--shadow-button);
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}
#floating-menu-container { position: fixed; bottom: 30px; left: 30px; z-index: 998; display: flex; flex-direction: column; align-items: flex-start; }
.floating-menu-btn { background: var(--alex-ink); color: var(--alex-blue-accent); }
.floating-menu-btn:hover { transform: translate(3px, -3px) scale(1.05) rotate(5deg); box-shadow: 5px 5px 0px var(--alex-ink); color: white;}
.floating-menu-list {
    position: absolute; bottom: 85px; left: 0; width: 250px; padding: 25px; margin-bottom: 15px;
    opacity: 0; visibility: hidden; transform: translateY(20px) scale(0.95);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); transform-origin: bottom left;
}
.floating-menu-list.is-open { opacity: 1; visibility: visible; transform: translateY(0) scale(1); }
.floating-menu-list h5 { margin-bottom: 15px; color: var(--alex-ink-light); font-size: 0.9rem; text-transform: uppercase; }
.floating-menu-list li { margin-bottom: 12px; }
.floating-menu-list a { font-weight: 800; font-size: 1rem; display: flex; align-items: center; gap: 12px; color: var(--alex-ink); }
.floating-menu-list a i { color: var(--alex-blue-accent); width: 20px; text-align: center;}
.floating-menu-list a:hover { color: var(--alex-blue-accent); transform: translateX(5px); }
.floating-menu-list .divider { height: 2px; background: rgba(44, 62, 80, 0.1); margin: 15px 0; border-radius: 4px;}

#floating-chat-container { position: fixed; bottom: 30px; right: 30px; z-index: 999; display: flex; flex-direction: column; align-items: flex-end; }
.chat-avatar-btn { background: var(--alex-blue-accent); color: white; animation: float-vertical 5s ease-in-out infinite; }
.chat-avatar-btn:hover { transform: translate(-3px, -3px) scale(1.05) rotate(-5deg); box-shadow: 5px 5px 0px var(--alex-ink); }
.chat-bubble {
    padding: 18px 28px; margin-bottom: 18px; max-width: 280px; font-size: 1rem;
    font-weight: 700; color: var(--alex-ink); opacity: 0; transform: translateY(30px) scale(0.9); transition: all 0.4s ease-out;
}
.chat-bubble.is-visible { opacity: 1; transform: translateY(0) scale(1); }
.chat-bubble strong { color: var(--alex-blue-accent); }

/* =============================================
   7. RESPONSIVE
============================================= */
@media (max-width: 1024px) {
    .products-grid, .grid-3 { grid-template-columns: repeat(2, 1fr); }
    .hero-grid, .alex-grid, .grid-2-uneven { grid-template-columns: 1fr; text-align: center; }
    .hero-video-organic, .alex-image-container, .app-image-container { order: 1; margin-top: 50px; width: 100%; }
    .hero-content { padding-right: 0; }
    .hero-subtitle { margin-left: auto; margin-right: auto; }
    .app-badges, .reviewer, .footer-grid { justify-content: center; text-align: center;}
}
@media (max-width: 768px) {
    :root { --section-spacing: 60px; }
    h1 { font-size: 2.8rem; } h2 { font-size: 2.2rem; }
    .top-header-flex { flex-direction: column; gap: 10px; text-align: center; }
    .top-contact, .top-social { justify-content: center; display: flex; flex-wrap: wrap; gap: 15px;}
    .main-nav, .header-actions { display: none; }
    .mobile-menu-toggle { display: block; z-index: 101; position: relative;}
    .site-header.nav-open .main-nav {
        display: flex; position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
        background: rgba(248, 250, 252, 0.98); backdrop-filter: blur(15px);
        padding-top: 100px; flex-direction: column; align-items: center; overflow-y: auto;
    }
    .main-nav ul { flex-direction: column; gap: 30px; }
    .main-nav a { font-size: 1.5rem; }
    .products-grid, .grid-3, .footer-grid { grid-template-columns: 1fr; }
    .footer-grid { gap: 30px; }
    .copyright-row { flex-direction: column; gap: 20px; }
    #floating-chat-container { bottom: 20px; right: 20px; }
    #floating-menu-container { bottom: 20px; left: 20px; }
    .floating-menu-btn, .chat-avatar-btn { width: 55px; height: 55px; font-size: 24px; }
    .floating-menu-list { bottom: 75px; width: 220px; left: -10px;}
}
@keyframes float-vertical { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-8px); } }

/* =============================================
   8. MISC (Transition, Logo, Motion)
============================================= */
#transition-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: var(--bg-white); z-index: 9999; opacity: 0; pointer-events: none;
    transition: opacity 0.5s ease-in-out;
}
#transition-overlay.is-active { opacity: 1; pointer-events: all; }

.logo-container { display: flex; align-items: center; }
.site-logo { height: 100px; width: auto; max-width: 100%; display: block; }
@media (max-width: 768px) { .site-logo { height: 80px; } }

video.product-icon { filter: none !important; object-fit: contain; }
.card-illustration video { width: 100%; height: 150px; object-fit: contain; filter: none; transition: transform 0.3s ease; }
.product-card:hover .card-illustration video { transform: scale(1.1); }

.square-video-box {
    width: 180px; height: 180px; margin: 0 auto 30px auto; border-radius: 25px;
    overflow: hidden; background-color: #f0f0f0; box-shadow: 0 8px 16px rgba(44, 62, 80, 0.1);
    transition: transform 0.3s ease;
}
.square-video-box video { width: 100%; height: 100%; object-fit: cover; display: block; filter: none !important; }
.product-card:hover .square-video-box { transform: scale(1.05) rotate(-2deg); box-shadow: 0 12px 24px rgba(74, 128, 240, 0.2); }

/* =============================================
   9. QUOTE TOOL LAYOUT & FORM ELEMENTS
============================================= */
.quote-page-body { background-color: var(--bg-off-white); min-height: 100vh; display: flex; flex-direction: column; }
.quote-nav { display: flex; justify-content: space-between; align-items: center; padding: 30px 5%; }
.nav-back-btn { color: var(--alex-blue-accent); font-weight: 800; font-size: 1.1rem; display: flex; align-items: center; gap: 10px; transition: transform 0.2s; }
.nav-back-btn:hover { transform: translateX(-5px); }
.nav-mini-logo { height: 80px; opacity: 0.8; }

.lang-switch { background-color: #E2E8F0; padding: 5px; border-radius: 30px; display: flex; gap: 5px; font-size: 0.85rem; font-weight: 700; }
.lang-option { padding: 5px 15px; border-radius: 20px; color: var(--alex-ink-light); cursor: pointer; transition: all 0.3s; }
.lang-option:hover { color: var(--alex-ink); }
.lang-option.active { background-color: var(--alex-blue-accent); color: white; box-shadow: 0 2px 4px rgba(74, 128, 240, 0.3); }

.quote-main-content { flex-grow: 1; display: flex; align-items: center; justify-content: center; padding-bottom: 60px; position: relative; overflow: hidden; }
.bg-decoration-circle { position: absolute; border-radius: 50%; background: radial-gradient(circle, rgba(74,128,240,0.08) 0%, rgba(255,255,255,0) 70%); z-index: -1; pointer-events: none; }
.circle-top { width: 800px; height: 800px; top: -300px; right: -200px; }
.circle-bottom { width: 600px; height: 600px; bottom: -200px; left: -100px; }

/* Quote Form Inputs */
.quote-tool-container { max-width: 550px; margin: 20px auto; position: relative; padding-top: 25px; width: 90%; }
.quote-badge-floating {
    position: absolute; top: 0; left: 50%; transform: translateX(-50%) rotate(-2deg);
    background-color: var(--alex-blue-accent); color: white; padding: 8px 24px; font-weight: 800; font-size: 1rem;
    border-radius: 20px 15px 20px 15px; border: 2px solid var(--alex-ink); z-index: 10; box-shadow: 3px 3px 0px rgba(44, 62, 80, 0.2);
}
.quote-card { padding: 50px 40px 40px 40px; background: #ffffff; border: 3px solid var(--alex-ink); }
.quote-header h3 { margin-bottom: 5px; color: var(--alex-blue-accent); }
.quote-header p { color: var(--alex-ink-light); margin-bottom: 30px; font-size: 0.95rem; }
.form-row { display: flex; gap: 20px; }
.form-row .form-group { flex: 1; }
.form-group { margin-bottom: 20px; text-align: left; }
.form-group label { display: block; font-weight: 700; font-size: 0.9rem; margin-bottom: 8px; color: var(--alex-ink); }
.input-wrapper { position: relative; }
.input-icon { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--alex-blue-accent); opacity: 0.6; }
.alex-input {
    width: 100%; padding: 12px 15px 12px 40px; border: 2px solid #E2E8F0; border-radius: 12px;
    font-family: var(--font-main); font-size: 1rem; color: var(--alex-ink); transition: all 0.3s ease; background-color: #F8FAFC;
}
.alex-input:focus { outline: none; border-color: var(--alex-blue-accent); background-color: #fff; box-shadow: 0 0 0 4px rgba(74, 128, 240, 0.1); }
.form-check-legal { display: flex; gap: 12px; align-items: flex-start; margin-bottom: 30px; background: #F1F5F9; padding: 15px; border-radius: 12px; border: 1px dashed #CBD5E1; }
.custom-checkbox { margin-top: 4px; accent-color: var(--alex-blue-accent); transform: scale(1.2); cursor: pointer; }
.legal-text { font-size: 0.75rem; line-height: 1.4; color: var(--alex-ink-light); font-weight: 500; }
.legal-text a { color: var(--alex-blue-accent); text-decoration: underline; }
.legal-muted { display: block; margin-top: 5px; font-size: 0.7rem; opacity: 0.8; }
.btn-block { width: 100%; display: flex; justify-content: center; align-items: center; gap: 10px; }

@media (max-width: 600px) {
    .form-row { flex-direction: column; gap: 0; }
    .quote-card { padding: 40px 20px 30px 20px; }
    .quote-nav { padding: 20px; }
    .circle-top, .circle-bottom { opacity: 0.5; }
}

/* =============================================
   10. QUOTE PAGE: "PREMIUM" (Step 1 & 2 styles)
============================================= */
.lang-switch-modern { background: white; padding: 4px; border-radius: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); display: flex; }
.lang-opt { padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 800; cursor: pointer; color: #94A3B8; transition: all 0.2s; }
.lang-opt.active { background: var(--alex-ink); color: white; }

.quote-badge-3d {
    position: absolute; top: -15px; left: 50%; transform: translateX(-50%) rotate(-3deg);
    background: linear-gradient(135deg, #4A80F0, #2E5BFF); color: white; padding: 8px 20px; font-weight: 800; font-size: 0.9rem;
    border-radius: 12px; z-index: 20; box-shadow: 0 10px 20px rgba(74, 128, 240, 0.3); border: 2px solid white;
}
.quote-card-stacked {
    background: white; border-radius: 24px; padding: 50px 40px 40px; position: relative; z-index: 10;
    border: 1px solid rgba(255,255,255,0.8); box-shadow: 0 20px 40px rgba(44, 62, 80, 0.08), 0 1px 3px rgba(0,0,0,0.05);
}
.card-shadow-layer {
    position: absolute; top: 15px; left: 10px; width: 100%; height: 100%; background: #E8EDF5; border-radius: 24px; z-index: 5;
    transform: rotate(2deg); opacity: 0.6;
}
.progress-container { height: 6px; background: #F1F5F9; border-radius: 10px; overflow: hidden; margin-bottom: 10px; }
.progress-bar { height: 100%; background: var(--alex-blue-accent); border-radius: 10px; position: relative; overflow: hidden; }
.progress-bar::after {
    content: ''; position: absolute; top: 0; left: 0; bottom: 0; right: 0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    transform: translateX(-100%); animation: shimmer 2s infinite;
}
.steps-indicator { text-align: right; font-size: 0.75rem; color: var(--alex-blue-accent); font-weight: 700; margin-bottom: 25px; }

.input-modern-wrapper { position: relative; transition: all 0.3s; }
.alex-input-modern {
    width: 100%; padding: 14px 15px 14px 45px; border: 2px solid #F1F5F9; border-radius: 14px;
    background: #F8FAFC; color: var(--alex-ink); font-size: 1rem; font-weight: 600;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}
.alex-input-modern:focus {
    outline: none; background: white; border-color: var(--alex-blue-accent);
    box-shadow: 0 4px 12px rgba(74, 128, 240, 0.1); transform: translateY(-2px);
}
.alex-input-modern:focus + .input-focus-border + .input-icon, .alex-input-modern:focus ~ .input-icon { color: var(--alex-blue-accent); }

.form-check-modern { display: flex; gap: 12px; margin: 25px 0; background: #F8FAFC; padding: 15px; border-radius: 12px; border: 1px solid #F1F5F9; }
.custom-check-container { position: relative; width: 22px; height: 22px; cursor: pointer; flex-shrink: 0; margin-top: 2px; }
.custom-check-container input { opacity: 0; cursor: pointer; height: 0; width: 0; }
.checkmark {
    position: absolute; top: 0; left: 0; height: 22px; width: 22px; background-color: white; border: 2px solid #CBD5E1; border-radius: 6px; transition: 0.2s;
}
.custom-check-container input:checked ~ .checkmark { background-color: var(--alex-blue-accent); border-color: var(--alex-blue-accent); }
.checkmark:after {
    content: ""; position: absolute; display: none; left: 7px; top: 3px; width: 5px; height: 10px;
    border: solid white; border-width: 0 2px 2px 0; transform: rotate(45deg);
}
.custom-check-container input:checked ~ .checkmark:after { display: block; }
.legal-text-modern { font-size: 0.75rem; color: #475569; line-height: 1.4; font-weight: 500; text-align: left; }
.legal-text-modern a { color: var(--alex-blue-accent); font-weight: 700; text-decoration: underline; }
.sub-legal { display: block; font-size: 0.7rem; color: #94A3B8; margin-top: 8px; line-height: 1.3; }

.btn-glow-anim {
    width: 100%; padding: 18px; border: none; border-radius: 14px;
    background: linear-gradient(135deg, #4A80F0 0%, #3B66CC 100%);
    color: white; font-size: 1.1rem; font-weight: 800; cursor: pointer;
    display: flex; justify-content: center; align-items: center; gap: 10px;
    transition: all 0.3s; position: relative; overflow: hidden;
    box-shadow: 0 10px 20px rgba(74, 128, 240, 0.3);
}
.btn-glow-anim:hover { transform: translateY(-3px); box-shadow: 0 15px 30px rgba(74, 128, 240, 0.4); }
.btn-glow-anim i { transition: transform 0.3s; }
.btn-glow-anim:hover i { transform: translateX(5px); }
.secure-badge { text-align: center; font-size: 0.75rem; color: #94A3B8; margin-top: 15px; font-weight: 600; }
.secure-badge i { color: #10B981; margin-right: 5px; }

/* =============================================
   11. MODAL (Available Quotes)
============================================= */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); z-index: 9999;
    display: flex; justify-content: center; align-items: center; opacity: 0; visibility: hidden; pointer-events: none; transition: all 0.4s ease;
}
.modal-overlay.is-active { opacity: 1; visibility: visible; pointer-events: all; }
.modal-wrapper {
    background: white; width: 90%; max-width: 850px; border-radius: 20px;
    box-shadow: 0 25px 50px rgba(0,0,0,0.15); padding: 40px; position: relative;
    transform: translateY(20px) scale(0.95); transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); border: 1px solid #f0f0f0;
}
.modal-overlay.is-active .modal-wrapper { transform: translateY(0) scale(1); }
.modal-title { color: #0EA5E9; font-size: 1.5rem; font-weight: 800; text-transform: uppercase; margin-bottom: 15px; letter-spacing: 1px; }
.modal-subtitle { color: #64748B; font-size: 0.95rem; margin-bottom: 30px; max-width: 600px; margin-left: auto; margin-right: auto; }
.table-responsive { overflow-x: auto; margin-bottom: 35px; border: 1px solid #E2E8F0; border-radius: 12px; }
.quotes-table { width: 100%; border-collapse: collapse; min-width: 600px; }
.quotes-table th { background: #F8FAFC; color: #475569; font-weight: 700; font-size: 0.85rem; padding: 15px; text-align: left; border-bottom: 1px solid #E2E8F0; }
.quotes-table td { padding: 15px; border-bottom: 1px solid #F1F5F9; font-size: 0.9rem; color: #334155; text-align: left; vertical-align: middle; }
.quotes-table tr:last-child td { border-bottom: none; }
.time-muted { font-size: 0.75rem; color: #94A3B8; }
.fw-bold { font-weight: 700; color: #1E293B; }
.status-badge { color: #64748B; background: #F1F5F9; padding: 4px 10px; border-radius: 6px; font-size: 0.8rem; font-weight: 600; }
.btn-select { background: #E0E7FF; color: #4338CA; border: none; padding: 8px 16px; border-radius: 6px; font-weight: 700; cursor: pointer; font-size: 0.85rem; transition: 0.2s; }
.btn-select:hover { background: #4338CA; color: white; }
.modal-footer-actions { display: flex; justify-content: center; gap: 20px; }
.btn-purple-action { background: #8B5CF6; color: white; border: none; padding: 12px 30px; border-radius: 8px; font-weight: 800; text-transform: uppercase; cursor: pointer; box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3); transition: 0.3s; }
.btn-purple-action:hover { background: #7C3AED; transform: translateY(-2px); }
.btn-coral-action { background: #F87171; color: white; border: none; padding: 12px 30px; border-radius: 8px; font-weight: 800; text-transform: uppercase; cursor: pointer; box-shadow: 0 4px 15px rgba(248, 113, 113, 0.3); transition: 0.3s; }
.btn-coral-action:hover { background: #EF4444; transform: translateY(-2px); }
.modal-floating-logo { position: absolute; right: -40px; top: 50%; transform: translateY(-50%); width: 120px; opacity: 0.9; display: none; }
@media (min-width: 900px) { .modal-floating-logo { display: block; } }
.modal-close-btn { position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 1.2rem; color: #94A3B8; cursor: pointer; transition: 0.2s; }
.modal-close-btn:hover { color: #F87171; transform: rotate(90deg); }

/* =============================================
   12. STEP 2: VEHICLES & HIGH END UI
============================================= */
.step-layout-wrapper { padding-bottom: 80px; align-items: flex-start; padding-top: 40px; }
.step-grid-container { display: grid; grid-template-columns: 1fr 280px; gap: 40px; max-width: 1000px; width: 90%; margin: 0 auto; }
.main-form-col { position: relative; perspective: 1000px; }
.alex-input-group { margin-bottom: 20px; text-align: left; }
.alex-input-group label { font-size: 0.85rem; font-weight: 700; color: var(--alex-ink); margin-bottom: 8px; display: block; }
.form-row-3 { display: flex; gap: 15px; }
.form-row-3 .alex-input-group { flex: 1; }
.validation-icon { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #10B981; opacity: 0; transition: 0.3s; }
.alex-input-modern:not(:placeholder-shown) ~ .validation-icon { opacity: 1; }
.divider-dashed { border-top: 2px dashed #E2E8F0; margin: 30px 0 20px; }
.subsection-title { color: var(--alex-blue-accent); font-weight: 800; margin-bottom: 20px; text-transform: uppercase; font-size: 0.9rem; letter-spacing: 1px; }
.coverage-selection-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
.coverage-item { background: #F8FAFC; padding: 15px; border-radius: 12px; border: 1px solid #F1F5F9; }
.cov-label { display: block; font-size: 0.8rem; font-weight: 700; color: #64748B; margin-bottom: 8px; }
.small-select { padding: 10px; font-size: 0.9rem; background: white; }
.form-action-row { display: flex; gap: 20px; margin-top: 20px; }
.btn-outline-sketch {
    flex: 1; padding: 16px; border: 2px dashed var(--alex-ink); border-radius: 14px;
    background: transparent; color: var(--alex-ink); font-weight: 800; cursor: pointer;
    transition: all 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px;
}
.btn-outline-sketch:hover { background: #F1F5F9; border-color: var(--alex-blue-accent); color: var(--alex-blue-accent); }
.sidebar-col { position: sticky; top: 20px; }
.sidebar-note { padding: 30px 25px; background: white; transform: rotate(1deg); }
.sidebar-title { font-size: 1.1rem; color: var(--alex-ink); margin-bottom: 20px; border-bottom: 2px solid var(--alex-blue-accent); display: inline-block; padding-bottom: 5px; }
.progress-list-sketch { list-style: none; padding: 0; margin: 0; }
.progress-list-sketch li { margin-bottom: 15px; color: #94A3B8; font-weight: 600; font-size: 0.95rem; display: flex; align-items: center; gap: 10px; }
.progress-list-sketch li.done { color: var(--alex-ink); text-decoration: line-through; text-decoration-color: #10B981; text-decoration-thickness: 2px; }
.progress-list-sketch li.done i { color: #10B981; }
.progress-list-sketch li.active { color: var(--alex-blue-accent); font-weight: 800; position: relative; }
.sketch-circle { display: inline-block; width: 10px; height: 10px; background: var(--alex-blue-accent); border-radius: 50%; box-shadow: 0 0 0 4px rgba(74, 128, 240, 0.2); }
.mini-tip { margin-top: 30px; background: #FEF3C7; padding: 15px; border-radius: 12px; font-size: 0.85rem; color: #92400E; border: 1px dashed #F59E0B; line-height: 1.4; }
.mini-tip i { margin-right: 5px; }

@media (max-width: 900px) {
    .step-grid-container { grid-template-columns: 1fr; }
    .sidebar-col { display: none; }
    .form-row-3 { flex-direction: column; gap: 15px; }
    .coverage-selection-grid { grid-template-columns: 1fr; }
    .form-action-row { flex-direction: column-reverse; }
}

.anim-entry-item { opacity: 0; transform: translateY(20px); animation: slideUpFade 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
@keyframes slideUpFade { to { opacity: 1; transform: translateY(0); } }
.scan-btn {
    position: absolute; right: 40px; top: 50%; transform: translateY(-50%);
    background: none; border: none; color: #94A3B8; cursor: pointer; transition: 0.2s;
}
.scan-btn:hover { color: var(--alex-blue-accent); transform: translateY(-50%) scale(1.1); }

.visual-coverage-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 30px; }
.coverage-tile { position: relative; cursor: pointer; }
.coverage-tile input { display: none; }
.tile-content {
    display: flex; align-items: center; gap: 12px; padding: 15px; border-radius: 12px;
    background: #F8FAFC; border: 2px solid #E2E8F0; transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
}
.tile-icon {
    width: 40px; height: 40px; background: white; border-radius: 8px; display: flex; align-items: center; justify-content: center;
    color: #64748B; font-size: 1.1rem; box-shadow: 0 2px 5px rgba(0,0,0,0.05); transition: 0.2s;
}
.tile-info { flex-grow: 1; }
.tile-title { display: block; font-weight: 700; font-size: 0.9rem; color: var(--alex-ink); }
.tile-desc { display: block; font-size: 0.75rem; color: #94A3B8; }
.tile-check {
    width: 20px; height: 20px; background: #10B981; border-radius: 50%; color: white;
    display: flex; align-items: center; justify-content: center; font-size: 0.7rem; opacity: 0; transform: scale(0.5); transition: 0.2s;
}
.coverage-tile input:checked + .tile-content, .coverage-tile.selected .tile-content {
    background: white; border-color: var(--alex-blue-accent); box-shadow: 0 5px 15px rgba(74, 128, 240, 0.15);
}
.coverage-tile.selected .tile-icon { background: var(--alex-blue-accent); color: white; }
.coverage-tile.selected .tile-check { opacity: 1; transform: scale(1); }

.taped-note { position: relative; border-top: none; }
.washi-tape {
    position: absolute; top: -15px; left: 50%; transform: translateX(-50%) rotate(-1deg);
    width: 120px; height: 35px; background-color: rgba(95, 212, 244, 0.4); opacity: 0.8;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    mask-image: url("data:image/svg+xml,%3Csvg width='200' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10 L5 0 L10 10 L15 0 L20 10 L25 0 L200 0 L200 60 L195 50 L190 60 L185 50 L0 60 Z' fill='black'/%3E%3C/svg%3E");
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='200' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10 L5 0 L10 10 L15 0 L20 10 L25 0 L200 0 L200 60 L195 50 L190 60 L185 50 L0 60 Z' fill='black'/%3E%3C/svg%3E");
    mask-size: 100% 100%;
}
.sidebar-price-preview { margin-top: 20px; padding-top: 20px; border-top: 2px dashed #E2E8F0; text-align: center; }
.sidebar-price-preview .label { display: block; font-size: 0.8rem; color: #64748B; font-weight: 700; text-transform: uppercase;}
.sidebar-price-preview .price { font-size: 2rem; font-weight: 900; color: var(--alex-ink); }
.sidebar-price-preview .price span { font-size: 1rem; color: #94A3B8; font-weight: 600; }

@media (max-width: 600px) { .visual-coverage-grid { grid-template-columns: 1fr; } }

.form-row-2 { display: flex; gap: 20px; margin-bottom: 20px; }
.flex-grow { flex-grow: 1; }
.tile-top-row { display: flex; justify-content: space-between; align-items: center; width: 100%; margin-bottom: 8px; }
.tile-select {
    width: 100%; padding: 8px; border-radius: 8px; border: 1px solid #E2E8F0;
    font-size: 0.85rem; color: var(--alex-ink-light); background: white;
    font-weight: 600; cursor: pointer; transition: 0.2s;
}
.tile-select:hover { border-color: var(--alex-blue-accent); }
.visual-coverage-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 30px; }
.full-width-tile { grid-column: span 2; }
.horizontal-layout { display: flex; justify-content: space-between; align-items: center; width: 100%; }
.wide-select { width: auto; min-width: 180px; }
.coverage-tile.selected .tile-content { border-color: var(--alex-blue-accent); background: #F0F9FF; box-shadow: 0 4px 12px rgba(74, 128, 240, 0.1); }
.coverage-tile.selected .tile-title { color: var(--alex-blue-accent); }
@media (max-width: 600px) {
    .form-row-2 { flex-direction: column; gap: 0; }
    .visual-coverage-grid { grid-template-columns: 1fr; }
    .full-width-tile { grid-column: span 1; }
    .horizontal-layout { flex-direction: column; align-items: flex-start; gap: 10px; }
    .wide-select { width: 100%; }
}

.vehicle-tabs-container { display: flex; gap: 10px; margin-bottom: -2px; padding-left: 10px; position: relative; z-index: 20; }
.v-tab {
    background: #E2E8F0; border: none; border-radius: 12px 12px 0 0; padding: 12px 20px;
    display: flex; align-items: center; gap: 12px; cursor: pointer; transition: all 0.2s ease;
    border: 1px solid transparent; min-width: 160px; position: relative; top: 2px;
}
.tab-info { text-align: left; }
.tab-sub { display: block; font-size: 0.7rem; font-weight: 700; color: #64748B; text-transform: uppercase; }
.tab-title { display: block; font-size: 0.9rem; font-weight: 800; color: var(--alex-ink); }
.car-icon-bg { width: 32px; height: 32px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #94A3B8; transition: 0.2s; }
.v-tab.active {
    background: white; border: 1px solid rgba(255,255,255,0.8); border-bottom: 2px solid white;
    box-shadow: 0 -5px 15px rgba(0,0,0,0.03); z-index: 30; top: 2px; padding-bottom: 14px;
}
.v-tab.active .tab-title { color: var(--alex-blue-accent); }
.v-tab.active .car-icon-bg { background: var(--alex-blue-accent); color: white; }
.v-tab:not(.active):hover { background: #CBD5E1; }
.v-tab-add {
    width: 40px; height: 40px; background: transparent; border: 2px dashed #CBD5E1;
    border-radius: 50%; color: #94A3B8; cursor: pointer; display: flex; align-items: center; justify-content: center;
    align-self: center; margin-left: 5px; transition: 0.2s;
}
.v-tab-add:hover { border-color: var(--alex-blue-accent); color: var(--alex-blue-accent); }
.quote-card-stacked { position: relative; z-index: 10; }

.vehicle-badge-tabs { position: relative; height: 40px; margin-bottom: 0px; z-index: 50; display: flex; justify-content: center; gap: 15px; }
.badge-vehicle { position: relative; top: 0; left: auto; transform: none; cursor: pointer; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); border: 2px solid white; font-size: 0.9rem; padding: 8px 20px; }
.badge-vehicle.active {
    background: linear-gradient(135deg, #10B981, #059669); color: white;
    transform: translateY(-15px) rotate(-2deg) scale(1.1); box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3); z-index: 10;
}
.badge-vehicle.inactive {
    background: #CBD5E1; color: #64748B; transform: translateY(0px) rotate(0deg) scale(0.95);
    box-shadow: none; z-index: 1; border-color: transparent;
}
.badge-vehicle.inactive:hover { background: #94A3B8; color: white; transform: translateY(-5px); }
.add-badge-btn {
    width: 35px; height: 35px; background: white; border: 2px dashed #CBD5E1; border-radius: 50%;
    color: #94A3B8; cursor: pointer; display: flex; align-items: center; justify-content: center;
    transition: 0.2s; align-self: center;
}
.add-badge-btn:hover { border-color: var(--alex-blue-accent); color: var(--alex-blue-accent); }
@media (max-width: 600px) {
    .vehicle-badge-tabs { gap: 5px; }
    .badge-vehicle { font-size: 0.8rem; padding: 6px 12px; }
    .badge-vehicle.active { transform: translateY(-10px) rotate(-2deg); }
}

/* =============================================
   13. STEP 3: SMART COMPARISON CENTER
============================================= */
.compare-grid-layout { display: grid; grid-template-columns: 290px 1fr 240px; gap: 30px; padding-bottom: 80px; align-items: start; }

/* Titles */
.sketch-headline { font-size: 2rem; color: var(--alex-ink); position: relative; display: inline-block; }
.sketch-headline::after {
    content: ''; position: absolute; bottom: 5px; left: 0; width: 100%; height: 8px;
    background: rgba(95, 212, 244, 0.3); z-index: -1; transform: rotate(-1deg) scaleX(1.1); border-radius: 4px;
}

/* Sidebar */
.badge-sidebar-float {
    position: absolute; top: -12px; left: 20px; z-index: 50;
    background: var(--alex-blue-accent); color: white; font-weight: 800; font-size: 0.8rem;
    padding: 6px 16px; border-radius: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    border: 2px solid white; transform: rotate(-2deg);
}
.sidebar-panel { background: #FFFFFF; border: 2px solid var(--alex-ink); padding: 0; position: relative; overflow: visible; }
.panel-header-clean {
    padding: 25px 20px 15px 20px; border-bottom: 2px dashed #E2E8F0;
    background: #F8FAFC; border-radius: var(--organic-radius) var(--organic-radius) 0 0;
}
.vehicle-switcher-modern { display: flex; align-items: center; justify-content: space-between; gap: 10px; }
.v-info-center { display: flex; flex-direction: column; align-items: center; text-align: center; }
.v-tag {
    background: #E0F2FE; color: #0284C7; font-size: 0.65rem; font-weight: 800;
    text-transform: uppercase; padding: 3px 8px; border-radius: 4px; margin-bottom: 4px; display: inline-block;
}
.v-name { font-size: 0.95rem; font-weight: 800; color: var(--alex-ink); line-height: 1.2; }
.v-switch-btn {
    width: 32px; height: 32px; background: white; border: 1px solid #CBD5E1;
    border-radius: 50%; color: #64748B; cursor: pointer; transition: 0.2s;
    display: flex; align-items: center; justify-content: center;
}
.v-switch-btn:hover { border-color: var(--alex-blue-accent); color: var(--alex-blue-accent); }

.scrollable-filters-clean { padding: 20px; max-height: 75vh; overflow-y: auto; }
.filter-block { margin-bottom: 25px; }
.block-label { font-size: 0.75rem; font-weight: 800; color: #94A3B8; text-transform: uppercase; margin-bottom: 8px; display: block; }

.segment-control { display: flex; background: #F1F5F9; padding: 4px; border-radius: 8px; }
.segment-control label { flex: 1; cursor: pointer; }
.segment-control input { display: none; }
.segment-item {
    display: block; text-align: center; font-size: 0.8rem; font-weight: 700;
    padding: 8px; border-radius: 6px; color: #64748B; transition: 0.2s;
}
.segment-control input:checked + .segment-item { background: white; color: var(--alex-blue-accent); box-shadow: 0 2px 4px rgba(0,0,0,0.05); }

.floating-label { display: block; font-size: 0.8rem; font-weight: 700; color: var(--alex-ink); margin-bottom: 6px; }
.alex-select-clean {
    width: 100%; padding: 10px; border: 1px solid #CBD5E1; border-radius: 8px;
    font-weight: 600; font-size: 0.9rem; color: var(--alex-ink); background: white;
    cursor: pointer; transition: 0.2s;
}
.alex-select-clean:hover { border-color: var(--alex-blue-accent); }
.mb-3 { margin-bottom: 12px; }

.filter-highlight-box {
    background: #EFF6FF; border: 1px dashed #BFDBFE; border-radius: 12px;
    padding: 20px; margin: 0 -20px 25px -20px; border-top: 1px dashed #BFDBFE; border-bottom: 1px dashed #BFDBFE;
}
.split-inputs { display: flex; gap: 10px; }
.input-col { flex: 1; }
.tiny-label { display: block; font-size: 0.7rem; color: #60A5FA; font-weight: 700; margin-bottom: 4px; }
.alex-select-clean.small { padding: 6px; font-size: 0.85rem; }
.white-bg { background: white; border-radius: 8px; }

.extra-row {
    display: flex; justify-content: space-between; align-items: center;
    padding: 8px 0; border-bottom: 1px solid #F1F5F9; font-size: 0.9rem; color: var(--alex-ink);
}
.extra-row:last-child { border-bottom: none; }
.alex-select-inline {
    border: 1px solid #E2E8F0; background: white; padding: 4px 8px; border-radius: 6px;
    font-size: 0.85rem; color: var(--alex-ink); cursor: pointer; font-weight: 600;
}
.sidebar-footer { padding: 20px; border-top: 2px solid #E2E8F0; background: #fff; border-radius: 0 0 20px 20px; }
.small-glow { font-size: 0.9rem; padding: 12px; }

/* Quote Cards */
.quote-result-card { margin-bottom: 25px; border-left: none; position: relative; overflow: visible; transition: all 0.3s; }
.quote-result-card:hover { transform: translateY(-5px); }
.result-content-modern { display: grid; grid-template-columns: 140px 1fr 180px; padding: 25px; align-items: center; gap: 20px; }
.carrier-col { text-align: center; }
.carrier-logo-lg { width: 80px; height: auto; margin-bottom: 8px; }
.rating-stars { font-size: 0.7rem; color: #F59E0B; font-weight: 700; }
.rating-stars span { color: #94A3B8; margin-left: 4px; }
.details-col { border-left: 1px dashed #E2E8F0; border-right: 1px dashed #E2E8F0; padding: 0 25px; }
.plan-title { font-size: 1.1rem; color: var(--alex-ink); margin-bottom: 8px; }
.tags-container { display: flex; gap: 8px; margin-bottom: 10px; flex-wrap: wrap; }
.spec-tag { background: #F1F5F9; padding: 4px 8px; border-radius: 6px; font-size: 0.7rem; font-weight: 700; color: #475569; display: flex; align-items: center; gap: 5px; }
.spec-tag.warning { background: #FEF3C7; color: #B45309; }
.micro-benefits { list-style: none; }
.micro-benefits li { font-size: 0.8rem; color: #64748B; margin-bottom: 3px; }
.micro-benefits i { color: #10B981; margin-right: 5px; }
.text-red { color: #EF4444 !important; }
.price-col { text-align: center; }
.price-group { position: relative; display: inline-block; font-size: 2rem; font-weight: 900; color: var(--alex-ink); margin-bottom: 5px; }
.highlighter-mark {
    position: absolute; top: 55%; left: -5px; right: -5px; height: 12px;
    background: rgba(250, 204, 21, 0.4); z-index: -1; transform: translateY(-50%) rotate(-2deg);
}
.pay-total { font-size: 0.7rem; color: #64748B; margin-bottom: 12px; }
.btn-green-sketch {
    width: 100%; padding: 10px; background: #10B981; color: white;
    border: 2px solid var(--alex-ink); border-radius: 10px;
    font-weight: 800; cursor: pointer; box-shadow: 3px 3px 0 var(--alex-ink);
    transition: 0.2s; font-size: 0.9rem;
}
.btn-green-sketch:hover { transform: translate(-2px, -2px); box-shadow: 5px 5px 0 var(--alex-ink); }
.btn-green-sketch.selected-state { background: #059669; box-shadow: inset 0 3px 5px rgba(0,0,0,0.3); transform: translate(2px, 2px); }
.btn-outline-sketch-sm {
    width: 100%; padding: 10px; background: transparent; color: var(--alex-ink);
    border: 2px solid #CBD5E1; border-radius: 12px; font-weight: 700; cursor: pointer; transition: 0.2s;
}
.btn-outline-sketch-sm:hover { border-color: var(--alex-blue-accent); color: var(--alex-blue-accent); }

/* Ink Stamp */
.ink-stamp-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    display: flex; align-items: center; justify-content: center;
    pointer-events: none; opacity: 0; transition: 0.3s;
    background: rgba(255,255,255,0.7); backdrop-filter: blur(1px); z-index: 5;
    border-radius: var(--organic-radius);
}
.ink-stamp {
    border: 4px solid #10B981; color: #10B981; font-size: 1.8rem; font-weight: 900;
    padding: 10px 30px; border-radius: 8px; transform: rotate(-15deg) scale(2); opacity: 0;
    transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); mix-blend-mode: multiply;
}
.quote-result-card.is-selected .ink-stamp-overlay { opacity: 1; pointer-events: auto; }
.quote-result-card.is-selected .ink-stamp { transform: rotate(-15deg) scale(1); opacity: 1; }

/* Sticky Note */
.sticky-note-yellow {
    background: #FEF08A; padding: 25px; transform: rotate(1deg); position: relative;
    box-shadow: 4px 4px 10px rgba(0,0,0,0.1); border: none; color: #854D0E;
}
.pin-tack {
    position: absolute; top: -10px; left: 50%; transform: translateX(-50%);
    width: 12px; height: 12px; background: #EF4444; border-radius: 50%;
    box-shadow: 1px 1px 2px rgba(0,0,0,0.3);
}
.handwritten-list { margin-top: 15px; font-weight: 600; list-style: disc; padding-left: 20px; }
.note-divider { border: 0; border-top: 1px dashed #CA8A04; margin: 15px 0; opacity: 0.5; }
.note-total { display: flex; justify-content: space-between; font-size: 1.1rem; }
.text-green { color: #15803D; }

/* Sticker "Alex's Choice" */
.sticker-badge {
    position: absolute; top: -12px; left: -10px; z-index: 10;
    background: #FACC15; color: var(--alex-ink);
    padding: 6px 12px; font-weight: 900; font-size: 0.7rem;
    border: 2px solid var(--alex-ink);
    border-radius: 20px 5px 20px 5px; transform: rotate(-5deg);
    box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
}

@media (max-width: 1200px) {
    .compare-grid-layout { grid-template-columns: 260px 1fr; }
    .actions-col { display: none; }
}
@media (max-width: 900px) {
    .compare-grid-layout { grid-template-columns: 1fr; }
    .filters-col { display: none; }
    .result-content-modern { grid-template-columns: 1fr; text-align: center; gap: 15px; }
    .details-col { border: none; border-top: 1px dashed #E2E8F0; border-bottom: 1px dashed #E2E8F0; padding: 15px 0; }
}

/* =============================================
   MODAL DE COMPARACIN (TABLA)
============================================= */

/* Hacemos el modal ms ancho para la tabla */
.modal-wrapper.modal-wide {
    max-width: 1000px;
    width: 95%;
    padding: 0; /* Quitamos padding para que el header toque los bordes */
    overflow: hidden; /* Para bordes redondeados */
}

/* Header del Modal */
.modal-header-compare {
    padding: 30px 30px 0 30px;
    background: #fff;
}

/* Tabs de Vehculos (Estilo Botn Azul vs Gris) */
.modal-vehicle-tabs {
    display: flex; gap: 5px; margin-top: 20px;
}
.mv-tab {
    padding: 10px 20px;
    font-size: 0.8rem; font-weight: 800; text-transform: uppercase;
    background: #F1F5F9; color: #64748B;
    border-radius: 10px 10px 0 0;
    cursor: pointer; transition: 0.2s;
}
.mv-tab.active {
    background: var(--alex-blue-accent); color: white;
    box-shadow: 0 -4px 10px rgba(74, 128, 240, 0.2);
}

/* Cuerpo con Scroll */
.modal-body-scroll {
    padding: 30px;
    max-height: 60vh;
    overflow-y: auto;
    background: #F8FAFC;
}

/* TABLA DE COMPARACIN */
.alex-compare-table {
    width: 100%; border-collapse: separate; border-spacing: 0;
    background: white; border-radius: 12px;
    border: 1px solid #E2E8F0;
    overflow: hidden;
}

.alex-compare-table th {
    background: white; padding: 20px; text-align: center;
    border-bottom: 2px solid #E2E8F0; vertical-align: bottom;
}
.alex-compare-table th.feature-col { text-align: left; width: 30%; font-size: 0.9rem; color: #94A3B8; text-transform: uppercase; }
.alex-compare-table th.plan-col { width: 35%; }

.comp-logo { height: 40px; margin-bottom: 10px; mix-blend-mode: multiply; }
.comp-plan-name { font-weight: 800; color: var(--alex-ink); font-size: 1.1rem; }

.alex-compare-table td {
    padding: 15px 20px; border-bottom: 1px solid #F1F5F9;
    color: var(--alex-ink); font-size: 0.9rem; vertical-align: middle;
}
/* Columnas de datos centradas */
.alex-compare-table td:not(.label-cell) { text-align: center; border-left: 1px dashed #E2E8F0; }

.label-cell { font-weight: 600; color: #475569; }

/* Filas destacadas (Precios) */
.highlight-row { background: #F0F9FF; }
.highlight-row-sub { background: #F8FAFC; }
.price-cell { font-size: 1.4rem; font-weight: 900; color: var(--alex-ink); }
.price-cell-sm { font-size: 1.1rem; font-weight: 800; color: #64748B; }
.text-green { color: #10B981; }

/* Separador de Seccin */
.section-divider td {
    background: #E2E8F0; color: #475569; font-weight: 800; 
    text-transform: uppercase; font-size: 0.8rem; padding: 10px 20px;
    letter-spacing: 1px;
}

/* Cajas de Limites */
.limit-box { 
    background: white; border: 1px solid #CBD5E1; border-radius: 6px; 
    padding: 5px 10px; display: inline-block; font-weight: 700;
}
.premium-sub { display: block; font-size: 0.75rem; color: #94A3B8; margin-top: 4px; }

.tag-pill {
    display: inline-block; background: #ECFDF5; color: #065F46;
    padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 700; margin: 2px;
}

/* Footer */
.modal-footer-compare {
    padding: 20px 30px; background: white; border-top: 1px solid #E2E8F0;
    display: flex; justify-content: flex-end; gap: 15px;
}

/* Responsive */
@media (max-width: 700px) {
    .alex-compare-table th, .alex-compare-table td { padding: 10px; font-size: 0.8rem; }
    .comp-logo { height: 30px; }
    .price-cell { font-size: 1.1rem; }
}